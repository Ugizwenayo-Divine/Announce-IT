{"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\server.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\server.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":72}},"5":{"start":{"line":14,"column":26},"end":{"line":14,"column":88}},"6":{"start":{"line":16,"column":10},"end":{"line":16,"column":36}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":36}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":48}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":64}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":17}},"11":{"start":{"line":21,"column":15},"end":{"line":21,"column":18}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["server.js"],"names":["app","use","express","json","routers","announceRouter","listen"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBG,sBAAxB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,sBAAR,EAAgCI,8BAAhC;AACAL,GAAG,CAACM,MAAJ,CAAW,IAAX;eAEeN,G","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src","sourcesContent":["import express from 'express';\r\nimport routers from './routes/userRoutes';\r\nimport announceRouter from './routes/announcementRoutes';\r\n\r\nconst app = express();\r\n\r\napp.use(express.json());\r\napp.use('/api/v1/auth', routers);\r\napp.use('/api/v1/announcement', announceRouter);\r\napp.listen(5000);\r\n\r\nexport default app;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6a71ec2148daa8de450474e32f9126bfacd304eb","contentHash":"14945ccd0f68ea29c25b770a15668e426e134edff07a1a3c6e56a287540acfb0"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\userRoutes.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\userRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":86}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":50}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":41}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":126}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":124}},"9":{"start":{"line":20,"column":15},"end":{"line":20,"column":21}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["userRoutes.js"],"names":["router","express","Router","post","schemas","authSchema","userController","createUser","authLogin","userLogin"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,+BAAcC,oBAAQC,UAAtB,CAAvB,EAA0DC,2BAAeC,UAAzE;AACAP,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,+BAAcC,oBAAQI,SAAtB,CAAvB,EAAwDF,2BAAeG,SAAvE;eAEeT,M","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes","sourcesContent":["import express from 'express';\r\nimport userController from '../controllers/userController';\r\nimport { schemas, validateInput } from '../helpers/validation';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/signup', validateInput(schemas.authSchema), userController.createUser);\r\nrouter.post('/signin', validateInput(schemas.authLogin),userController.userLogin);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a6d66889bd1e5625fd62e23093b93c2b1be5d576","contentHash":"1edb2b3887f3663817a12dd4318f6b3fecff31473f525d6f300f1918255ff353"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\userController.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\userController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":61}},"4":{"start":{"line":12,"column":21},"end":{"line":75,"column":1}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":52}},"6":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"7":{"start":{"line":17,"column":6},"end":{"line":20,"column":9}},"8":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"9":{"start":{"line":24,"column":6},"end":{"line":27,"column":9}},"10":{"start":{"line":30,"column":4},"end":{"line":42,"column":7}},"11":{"start":{"line":45,"column":16},"end":{"line":45,"column":48}},"12":{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},"13":{"start":{"line":48,"column":6},"end":{"line":51,"column":9}},"14":{"start":{"line":54,"column":4},"end":{"line":59,"column":5}},"15":{"start":{"line":55,"column":6},"end":{"line":58,"column":9}},"16":{"start":{"line":61,"column":4},"end":{"line":73,"column":7}},"17":{"start":{"line":76,"column":15},"end":{"line":76,"column":29}},"18":{"start":{"line":77,"column":0},"end":{"line":77,"column":30}}},"fnMap":{"0":{"name":"createUser","decl":{"start":{"line":13,"column":23},"end":{"line":13,"column":33}},"loc":{"start":{"line":13,"column":44},"end":{"line":43,"column":3}},"line":13},"1":{"name":"userLogin","decl":{"start":{"line":44,"column":22},"end":{"line":44,"column":31}},"loc":{"start":{"line":44,"column":42},"end":{"line":74,"column":3}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},{"start":{"line":16,"column":4},"end":{"line":21,"column":5}}],"line":16},"1":{"loc":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},{"start":{"line":23,"column":4},"end":{"line":28,"column":5}}],"line":23},"2":{"loc":{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},{"start":{"line":47,"column":4},"end":{"line":52,"column":5}}],"line":47},"3":{"loc":{"start":{"line":54,"column":4},"end":{"line":59,"column":5}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":59,"column":5}},{"start":{"line":54,"column":4},"end":{"line":59,"column":5}}],"line":54}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":5,"6":5,"7":1,"8":4,"9":1,"10":3,"11":3,"12":3,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1},"f":{"0":5,"1":3},"b":{"0":[1,4],"1":[1,3],"2":[1,2],"3":[1,1]},"inputSourceMap":{"version":3,"sources":["userController.js"],"names":["userController","createUser","req","res","user","userModel","body","status","json","error","data","token","id","firstName","lastName","email","address","phoneNumber","isAdmin","userLogin","login","userExist"],"mappings":"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","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers","sourcesContent":["import userModel from '../models/user';\r\n\r\nconst userController = {\r\n\r\n  createUser(req, res) {\r\n    const user = userModel.createUser(req.body);\r\n    if (user === 'user exists') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'That email has been used',\r\n      });\r\n    }\r\n    if (user === 'password do not match') {\r\n      return res.status(403).json({\r\n        status:'error',\r\n        error:'password must match confirm'\r\n      });\r\n    }\r\n    return res.status(201).json({\r\n      status: 'success',\r\n      data: {\r\n        token: user.token,\r\n        id: user.data.id,\r\n        firstName: user.data.firstName,\r\n        lastName: user.data.lastName,\r\n        email: user.data.email,\r\n        address: user.data.address,\r\n        phoneNumber: user.data.phoneNumber,\r\n        isAdmin: user.isAdmin,\r\n      },\r\n    });\r\n  },\r\n\r\n  userLogin(req, res) {\r\n    const login = userModel.login(req.body);\r\n    if (login === 'Does not exist') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'user does not exist',\r\n      });\r\n    }\r\n    if (login === 'incorrect password') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'incorrect password',\r\n      });\r\n    }\r\n\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: {\r\n        token: login.token,\r\n        id: login.userExist.id,\r\n        firstName: login.userExist.firstName,\r\n        lastName: login.userExist.lastName,\r\n        email: login.userExist.email,\r\n        address: login.userExist.address,\r\n        phoneNumber: login.userExist.phoneNumber,\r\n        isAdmin: login.userExist.isAdmin,\r\n      },\r\n    });\r\n  },\r\n};\r\nexport default userController;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"92d27467372d8930d6329adf7ddcf160d05f9d8f","contentHash":"719be2d42c9f60523d89b43334c0c9c02a3510d269b96bece7a33859a1a495f8"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\user.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\user.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":55}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":64}},"7":{"start":{"line":18,"column":14},"end":{"line":18,"column":57}},"8":{"start":{"line":22,"column":0},"end":{"line":96,"column":3}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":49}},"10":{"start":{"line":27,"column":2},"end":{"line":94,"column":6}},"11":{"start":{"line":30,"column":22},"end":{"line":32,"column":8}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":39}},"13":{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},"14":{"start":{"line":35,"column":8},"end":{"line":35,"column":29}},"15":{"start":{"line":38,"column":6},"end":{"line":64,"column":7}},"16":{"start":{"line":39,"column":21},"end":{"line":39,"column":67}},"17":{"start":{"line":41,"column":19},"end":{"line":50,"column":9}},"18":{"start":{"line":52,"column":8},"end":{"line":52,"column":38}},"19":{"start":{"line":54,"column":20},"end":{"line":58,"column":10}},"20":{"start":{"line":60,"column":8},"end":{"line":63,"column":10}},"21":{"start":{"line":66,"column":6},"end":{"line":66,"column":37}},"22":{"start":{"line":71,"column":22},"end":{"line":73,"column":8}},"23":{"start":{"line":72,"column":8},"end":{"line":72,"column":39}},"24":{"start":{"line":75,"column":6},"end":{"line":90,"column":7}},"25":{"start":{"line":76,"column":8},"end":{"line":87,"column":9}},"26":{"start":{"line":77,"column":22},"end":{"line":81,"column":12}},"27":{"start":{"line":83,"column":10},"end":{"line":86,"column":12}},"28":{"start":{"line":89,"column":8},"end":{"line":89,"column":36}},"29":{"start":{"line":92,"column":6},"end":{"line":92,"column":30}},"30":{"start":{"line":95,"column":2},"end":{"line":95,"column":14}},"31":{"start":{"line":98,"column":0},"end":{"line":98,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"loc":{"start":{"line":22,"column":12},"end":{"line":96,"column":1}},"line":22},"1":{"name":"User","decl":{"start":{"line":23,"column":11},"end":{"line":23,"column":15}},"loc":{"start":{"line":23,"column":18},"end":{"line":25,"column":3}},"line":23},"2":{"name":"createUser","decl":{"start":{"line":29,"column":20},"end":{"line":29,"column":30}},"loc":{"start":{"line":29,"column":37},"end":{"line":67,"column":5}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":46},"end":{"line":30,"column":47}},"loc":{"start":{"line":30,"column":60},"end":{"line":32,"column":7}},"line":30},"4":{"name":"login","decl":{"start":{"line":70,"column":20},"end":{"line":70,"column":25}},"loc":{"start":{"line":70,"column":32},"end":{"line":93,"column":5}},"line":70},"5":{"name":"(anonymous_5)","decl":{"start":{"line":71,"column":46},"end":{"line":71,"column":47}},"loc":{"start":{"line":71,"column":60},"end":{"line":73,"column":7}},"line":71}},"branchMap":{"0":{"loc":{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},{"start":{"line":34,"column":6},"end":{"line":36,"column":7}}],"line":34},"1":{"loc":{"start":{"line":38,"column":6},"end":{"line":64,"column":7}},"type":"if","locations":[{"start":{"line":38,"column":6},"end":{"line":64,"column":7}},{"start":{"line":38,"column":6},"end":{"line":64,"column":7}}],"line":38},"2":{"loc":{"start":{"line":75,"column":6},"end":{"line":90,"column":7}},"type":"if","locations":[{"start":{"line":75,"column":6},"end":{"line":90,"column":7}},{"start":{"line":75,"column":6},"end":{"line":90,"column":7}}],"line":75},"3":{"loc":{"start":{"line":76,"column":8},"end":{"line":87,"column":9}},"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":87,"column":9}},{"start":{"line":76,"column":8},"end":{"line":87,"column":9}}],"line":76}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":5,"12":27,"13":5,"14":1,"15":4,"16":3,"17":3,"18":3,"19":3,"20":3,"21":1,"22":3,"23":17,"24":3,"25":2,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"f":{"0":1,"1":0,"2":5,"3":27,"4":3,"5":17},"b":{"0":[1,4],"1":[3,1],"2":[2,1],"3":[1,1]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["User","user","userExist","users","find","us","email","password","confirm","hashed","bcrypt","hashSync","data","id","length","firstName","lastName","phoneNumber","address","isAdmin","push","token","tokenHelper","encodeToken","compareSync"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;IAEqBA,I;;;;;;;;;+BACDC,I,EAAM;AAEtB,UAAMC,SAAS,GAAGC,mBAAMC,IAAN,CAAW,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACC,KAAH,KAAaL,IAAI,CAACK,KAA1B;AAAA,OAAX,CAAlB;;AAEA,UAAIJ,SAAJ,EAAe;AACb,eAAO,aAAP;AACD;;AACC,UAAGD,IAAI,CAACM,QAAL,KAAkBN,IAAI,CAACO,OAA1B,EAAkC;AAChC,YAAMC,MAAM,GAAGC,mBAAOC,QAAP,CAAgBV,IAAI,CAACM,QAArB,EAA+B,EAA/B,CAAf;;AACA,YAAMK,IAAI,GAAG;AACXC,UAAAA,EAAE,EAAGV,mBAAMW,MAAP,GAAe,CADR;AAEXR,UAAAA,KAAK,EAAEL,IAAI,CAACK,KAFD;AAGXS,UAAAA,SAAS,EAAEd,IAAI,CAACc,SAHL;AAIXC,UAAAA,QAAQ,EAAEf,IAAI,CAACe,QAJJ;AAKXT,UAAAA,QAAQ,EAAEE,MALC;AAMXQ,UAAAA,WAAW,EAAEhB,IAAI,CAACgB,WANP;AAOXC,UAAAA,OAAO,EAAEjB,IAAI,CAACiB,OAPH;AAQXC,UAAAA,OAAO,EAAElB,IAAI,CAACkB;AARH,SAAb;;AAUAhB,2BAAMiB,IAAN,CAAWR,IAAX;;AACA,YAAMS,KAAK,GAAGC,kBACXC,WADW,CACC;AAAEjB,UAAAA,KAAK,EAAEM,IAAI,CAACN,KAAd;AAAqBO,UAAAA,EAAE,EAAED,IAAI,CAACC,EAA9B;AAAkCM,UAAAA,OAAO,EAAEP,IAAI,CAACO;AAAhD,SADD,CAAd;;AAEA,eAAO;AACLP,UAAAA,IAAI,EAAJA,IADK;AAELS,UAAAA,KAAK,EAALA;AAFK,SAAP;AAID;;AACD,aAAO,uBAAP;AAEH;;;0BAEYpB,I,EAAM;AACjB,UAAMC,SAAS,GAAGC,mBAAMC,IAAN,CAAW,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACC,KAAH,KAAaL,IAAI,CAACK,KAA1B;AAAA,OAAX,CAAlB;;AAEA,UAAIJ,SAAJ,EAAe;AACb,YAAIQ,mBAAOc,WAAP,CAAmBvB,IAAI,CAACM,QAAxB,EAAkCL,SAAS,CAACK,QAA5C,CAAJ,EAA2D;AACzD,cAAMc,KAAK,GAAGC,kBACXC,WADW,CACC;AAAEjB,YAAAA,KAAK,EAAEJ,SAAS,CAACI,KAAnB;AAA0BO,YAAAA,EAAE,EAAEX,SAAS,CAACW,EAAxC;AAA4CM,YAAAA,OAAO,EAAEjB,SAAS,CAACiB;AAA/D,WADD,CAAd;;AAEA,iBAAO;AACLjB,YAAAA,SAAS,EAATA,SADK;AAELmB,YAAAA,KAAK,EAALA;AAFK,WAAP;AAID;;AAED,eAAO,oBAAP;AACD;;AACD,aAAO,gBAAP;AACD","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["import bcrypt from 'bcrypt';\r\nimport tokenHelper from '../helpers/token';\r\nimport users from './userdb';\r\n\r\nexport default class User {\r\n  static createUser(user) {\r\n\r\n    const userExist = users.find((us) => us.email === user.email);\r\n\r\n    if (userExist) {\r\n      return 'user exists';\r\n    }\r\n      if(user.password === user.confirm){\r\n        const hashed = bcrypt.hashSync(user.password, 10);\r\n        const data = {\r\n          id: (users.length)+1,\r\n          email: user.email,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n          password: hashed,\r\n          phoneNumber: user.phoneNumber,\r\n          address: user.address,\r\n          isAdmin: user.isAdmin,\r\n        };\r\n        users.push(data);\r\n        const token = tokenHelper\r\n          .encodeToken({ email: data.email, id: data.id, isAdmin: data.isAdmin });\r\n        return {\r\n          data,\r\n          token,\r\n        };\r\n      }\r\n      return \"password do not match\";\r\n\r\n  }\r\n\r\n  static login(user) {\r\n    const userExist = users.find((us) => us.email === user.email);\r\n\r\n    if (userExist) {\r\n      if (bcrypt.compareSync(user.password, userExist.password)) {\r\n        const token = tokenHelper\r\n          .encodeToken({ email: userExist.email, id: userExist.id, isAdmin: userExist.isAdmin });\r\n        return {\r\n          userExist,\r\n          token,\r\n        };\r\n      }\r\n\r\n      return 'incorrect password';\r\n    }\r\n    return 'Does not exist';\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26687ab71016d72637d7cd6d984e6ab7f9a5fda3","contentHash":"fcb79beb93997a5ce404c1e28655a017c64f7cceca5a5273e91ab64cc14aac98"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\token.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\token.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"6":{"start":{"line":16,"column":18},"end":{"line":27,"column":1}},"7":{"start":{"line":18,"column":16},"end":{"line":18,"column":79}},"8":{"start":{"line":20,"column":4},"end":{"line":20,"column":17}},"9":{"start":{"line":23,"column":15},"end":{"line":23,"column":78}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"11":{"start":{"line":28,"column":15},"end":{"line":28,"column":26}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":30}}},"fnMap":{"0":{"name":"encodeToken","decl":{"start":{"line":17,"column":24},"end":{"line":17,"column":35}},"loc":{"start":{"line":17,"column":45},"end":{"line":21,"column":3}},"line":17},"1":{"name":"decodeToken","decl":{"start":{"line":22,"column":24},"end":{"line":22,"column":35}},"loc":{"start":{"line":22,"column":43},"end":{"line":26,"column":3}},"line":22}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":4,"9":26,"10":25,"11":1,"12":1},"f":{"0":4,"1":26},"b":{},"inputSourceMap":{"version":3,"sources":["token.js"],"names":["dotenv","config","tokenHelper","encodeToken","payload","token","jwt","sign","process","env","PRIVATE_KEY","decodeToken","data","verify"],"mappings":";;;;;;;;;AACA;;AACA;;AAEAA,mBAAOC,MAAP;;AACA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,WADkB,uBACNC,OADM,EACG;AACnB,QAAMC,KAAK,GAAGC,yBAAIC,IAAJ,CAASH,OAAT,EAAkBI,OAAO,CAACC,GAAR,CAAYC,WAA9B,CAAd;;AACA,WAAOL,KAAP;AACD,GAJiB;AAMlBM,EAAAA,WANkB,uBAMNN,KANM,EAMC;AACjB,QAAMO,IAAI,GAAGN,yBAAIO,MAAJ,CAAWR,KAAX,EAAkBG,OAAO,CAACC,GAAR,CAAYC,WAA9B,CAAb;;AACA,WAAOE,IAAP;AACD;AATiB,CAApB;eAYeV,W","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers","sourcesContent":["\r\nimport jwt from 'jsonwebtoken';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\nconst tokenHelper = {\r\n  encodeToken(payload) {\r\n    const token = jwt.sign(payload, process.env.PRIVATE_KEY);\r\n    return token;\r\n  },\r\n\r\n  decodeToken(token) {\r\n    const data = jwt.verify(token, process.env.PRIVATE_KEY);\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default tokenHelper;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"161380f1ed473f4a03e7b660757c79603440c16b","contentHash":"23d57ffd2c966a725aa3135a6e72755c03e91b9d411a636526c4405953ed36b6"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\userdb.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\userdb.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":11},"end":{"line":12,"column":16}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":45}},"6":{"start":{"line":14,"column":12},"end":{"line":50,"column":2}},"7":{"start":{"line":51,"column":15},"end":{"line":51,"column":20}},"8":{"start":{"line":52,"column":0},"end":{"line":52,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["userdb.js"],"names":["pass","bcrypt","hashSync","users","id","firstName","lastName","email","address","password","phoneNumber","isAdmin"],"mappings":";;;;;;;;;AAAA;;AACA,IAAIA,IAAI,GAAC,KAAT;AACAA,IAAI,GAACC,mBAAOC,QAAP,CAAgBF,IAAhB,EAAqB,EAArB,CAAL;AACA,IAAMG,KAAK,GAAG,CAAC;AACbC,EAAAA,EAAE,EAAE,CADS;AAEbC,EAAAA,SAAS,EAAE,SAFE;AAGbC,EAAAA,QAAQ,EAAE,KAHG;AAIbC,EAAAA,KAAK,EAAE,eAJM;AAKbC,EAAAA,OAAO,EAAE,SALI;AAMbC,EAAAA,QAAQ,EAAET,IANG;AAObU,EAAAA,WAAW,EAAE,YAPA;AAQbC,EAAAA,OAAO,EAAE;AARI,CAAD,EAUd;AACEP,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,SAAS,EAAE,KAFb;AAGEC,EAAAA,QAAQ,EAAE,MAHZ;AAIEC,EAAAA,KAAK,EAAE,gBAJT;AAKEC,EAAAA,OAAO,EAAE,SALX;AAMEC,EAAAA,QAAQ,EAAET,IANZ;AAOEU,EAAAA,WAAW,EAAE,WAPf;AAQEC,EAAAA,OAAO,EAAE;AARX,CAVc,EAoBd;AACEP,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,SAAS,EAAE,KAFb;AAGEC,EAAAA,QAAQ,EAAE,MAHZ;AAIEC,EAAAA,KAAK,EAAE,gBAJT;AAKEC,EAAAA,OAAO,EAAE,SALX;AAMEC,EAAAA,QAAQ,EAAET,IANZ;AAOEU,EAAAA,WAAW,EAAE,YAPf;AAQEC,EAAAA,OAAO,EAAE;AARX,CApBc,EA8Bd;AACEP,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,SAAS,EAAE,MAFb;AAGEC,EAAAA,QAAQ,EAAE,KAHZ;AAIEC,EAAAA,KAAK,EAAE,eAJT;AAKEC,EAAAA,OAAO,EAAE,SALX;AAMEC,EAAAA,QAAQ,EAAET,IANZ;AAOEU,EAAAA,WAAW,EAAE,WAPf;AAQEC,EAAAA,OAAO,EAAE;AARX,CA9Bc,CAAd;eAyCeR,K","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["import bcrypt from 'bcrypt';\r\nlet pass=\"200\";\r\npass=bcrypt.hashSync(pass,10);\r\nconst users = [{\r\n  id: 1,\r\n  firstName: 'ukundwa',\r\n  lastName: 'dia',\r\n  email: 'dia@gmail.com',\r\n  address: 'kamembe',\r\n  password: pass,\r\n  phoneNumber: '0780000092',\r\n  isAdmin: true,\r\n},\r\n{\r\n  id: 2,\r\n  firstName: 'tuy',\r\n  lastName: 'eric',\r\n  email: 'eric@gmail.com',\r\n  address: 'kamembe',\r\n  password: pass,\r\n  phoneNumber: '078229862',\r\n  isAdmin: false,\r\n},\r\n{\r\n  id: 3,\r\n  firstName: 'ira',\r\n  lastName: 'vivi',\r\n  email: 'vivi@gmail.com',\r\n  address: 'kamembe',\r\n  password: pass,\r\n  phoneNumber: '0782237192',\r\n  isAdmin: false,\r\n},\r\n{\r\n  id: 4,\r\n  firstName: 'turi',\r\n  lastName: 'Eli',\r\n  email: 'eli@gmail.com',\r\n  address: 'kamembe',\r\n  password: pass,\r\n  phoneNumber: '078874592',\r\n  isAdmin: false,\r\n}];\r\n\r\nexport default users;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d6ca4c4b7c1123d727510f397e597c547a60244","contentHash":"1a34db6ae85de6be0d6366b52982df1d8bbac8efcbc16908791dcf0c9f81d51f"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\validation.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\validation.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":49}},"3":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"4":{"start":{"line":12,"column":14},"end":{"line":45,"column":1}},"5":{"start":{"line":46,"column":0},"end":{"line":46,"column":26}},"6":{"start":{"line":48,"column":20},"end":{"line":60,"column":1}},"7":{"start":{"line":49,"column":2},"end":{"line":59,"column":4}},"8":{"start":{"line":50,"column":17},"end":{"line":50,"column":59}},"9":{"start":{"line":52,"column":4},"end":{"line":56,"column":5}},"10":{"start":{"line":53,"column":6},"end":{"line":55,"column":9}},"11":{"start":{"line":58,"column":4},"end":{"line":58,"column":18}},"12":{"start":{"line":62,"column":0},"end":{"line":62,"column":38}}},"fnMap":{"0":{"name":"validateInput","decl":{"start":{"line":48,"column":29},"end":{"line":48,"column":42}},"loc":{"start":{"line":48,"column":51},"end":{"line":60,"column":1}},"line":48},"1":{"name":"(anonymous_1)","decl":{"start":{"line":49,"column":9},"end":{"line":49,"column":10}},"loc":{"start":{"line":49,"column":35},"end":{"line":59,"column":3}},"line":49}},"branchMap":{"0":{"loc":{"start":{"line":52,"column":4},"end":{"line":56,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":56,"column":5}},{"start":{"line":52,"column":4},"end":{"line":56,"column":5}}],"line":52}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":22,"9":22,"10":1,"11":21,"12":1},"f":{"0":5,"1":22},"b":{"0":[1,21]},"inputSourceMap":{"version":3,"sources":["validation.js"],"names":["schemas","authSchema","Joi","object","keys","email","string","required","firstName","alphanum","min","max","lastName","address","phoneNumber","password","confirm","isAdmin","options","abortEarly","authLogin","announceSchema","status","valid","text","startDate","date","endDate","updateAnnounce","validateInput","schema","req","res","next","result","validate","body","error","json","message","details"],"mappings":";;;;;;;;;AAAA;;AAGA,IAAMA,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAEC,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC5BC,IAAAA,KAAK,EAAEH,gBAAII,MAAJ,GAAaC,QAAb,GAAwBF,KAAxB,EADqB;AAE5BG,IAAAA,SAAS,EAAEN,gBAAII,MAAJ,GAAaG,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,CAAnC,CAFiB;AAG5BC,IAAAA,QAAQ,EAAEV,gBAAII,MAAJ,GAAaG,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,CAAnC,CAHkB;AAI5BE,IAAAA,OAAO,EAAEX,gBAAII,MAAJ,EAJmB;AAK5BQ,IAAAA,WAAW,EAAEZ,gBAAII,MAAJ,EALe;AAM5BS,IAAAA,QAAQ,EAAEb,gBAAII,MAAJ,GAAaC,QAAb,EANkB;AAO5BS,IAAAA,OAAO,EAAEd,gBAAII,MAAJ,GAAaC,QAAb,EAPmB;AAQ5BU,IAAAA,OAAO,EAAEf;AARmB,GAAlB,EASTgB,OATS,CASD;AAAEC,IAAAA,UAAU,EAAE;AAAd,GATC,CADE;AAWdC,EAAAA,SAAS,EAAElB,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC3BC,IAAAA,KAAK,EAAEH,gBAAII,MAAJ,GAAaC,QAAb,GAAwBF,KAAxB,EADoB;AAE3BU,IAAAA,QAAQ,EAAEb,gBAAII,MAAJ,GAAaC,QAAb;AAFiB,GAAlB,CAXG;AAedc,EAAAA,cAAc,EAAEnB,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAChCkB,IAAAA,MAAM,EAAEpB,gBAAII,MAAJ,GAAaiB,KAAb,CAAmB,CAAC,SAAD,EAAY,UAAZ,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,UAA9C,CAAnB,CADwB;AAEhCC,IAAAA,IAAI,EAAEtB,gBAAII,MAAJ,GAAaC,QAAb,EAF0B;AAGhCkB,IAAAA,SAAS,EAAEvB,gBAAIwB,IAAJ,GAAWnB,QAAX,EAHqB;AAIhCoB,IAAAA,OAAO,EAAEzB,gBAAIwB,IAAJ,GAAWnB,QAAX;AAJuB,GAAlB,EAKbW,OALa,CAKL;AAAEC,IAAAA,UAAU,EAAE;AAAd,GALK,CAfF;AAqBdS,EAAAA,cAAc,EAAE1B,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAChCkB,IAAAA,MAAM,EAAEpB,gBAAII,MAAJ,GAAaiB,KAAb,CAAmB,CAAC,SAAD,EAAY,UAAZ,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,UAA9C,CAAnB,CADwB;AAEhCC,IAAAA,IAAI,EAAEtB,gBAAII,MAAJ,EAF0B;AAGhCmB,IAAAA,SAAS,EAAEvB,gBAAIwB,IAAJ,EAHqB;AAIhCC,IAAAA,OAAO,EAAEzB,gBAAIwB,IAAJ;AAJuB,GAAlB,EAKbR,OALa,CAKL;AAAEC,IAAAA,UAAU,EAAE;AAAd,GALK;AArBF,CAAhB;;;AA4BA,IAAMU,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD;AAAA,SAAY,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACpD,QAAMC,MAAM,GAAGhC,gBAAIiC,QAAJ,CAAaJ,GAAG,CAACK,IAAjB,EAAuBN,MAAvB,CAAf;;AACA,QAAII,MAAM,CAACG,KAAX,EAAkB;AAChB,aAAOL,GAAG,CAACV,MAAJ,CAAW,GAAX,EAAgBgB,IAAhB,CAAqB;AAC1BC,QAAAA,OAAO,EAAEL,MAAM,CAACG,KAAP,CAAaG;AADI,OAArB,CAAP;AAGD;;AAED,WAAOP,IAAI,EAAX;AACD,GATqB;AAAA,CAAtB","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers","sourcesContent":["import Joi from 'joi';\r\n\r\n\r\nconst schemas = {\r\n  authSchema: Joi.object().keys({\r\n    email: Joi.string().required().email(),\r\n    firstName: Joi.string().alphanum().min(3).max(8),\r\n    lastName: Joi.string().alphanum().min(3).max(8),\r\n    address: Joi.string(),\r\n    phoneNumber: Joi.string(),\r\n    password: Joi.string().required(),\r\n    confirm: Joi.string().required(),\r\n    isAdmin: Joi.boolean(),\r\n  }).options({ abortEarly: false }),\r\n  authLogin: Joi.object().keys({\r\n    email: Joi.string().required().email(),\r\n    password: Joi.string().required()\r\n  }),\r\n  announceSchema: Joi.object().keys({\r\n    status: Joi.string().valid(['pending', 'accepted', 'declined', 'active', 'deactive']),\r\n    text: Joi.string().required(),\r\n    startDate: Joi.date().required(),\r\n    endDate: Joi.date().required(),\r\n  }).options({ abortEarly: false }),\r\n  updateAnnounce: Joi.object().keys({\r\n    status: Joi.string().valid(['pending', 'accepted', 'declined', 'active', 'deactive']),\r\n    text: Joi.string(),\r\n    startDate: Joi.date(),\r\n    endDate: Joi.date(),\r\n  }).options({ abortEarly: false }),\r\n};\r\nconst validateInput = (schema) => (req, res, next) => {\r\n  const result = Joi.validate(req.body, schema);\r\n  if (result.error) {\r\n    return res.status(400).json({\r\n      message: result.error.details,\r\n    });\r\n  }\r\n\r\n  return next();\r\n};\r\n\r\nexport { schemas, validateInput };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6eb613e161396901fb94a7ead0c14da67be21c0f","contentHash":"5be0fd0017c559c4d8055a8cb3dd02978820a22edd90cd6f41d1a34e5feb6cee"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\announcementRoutes.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\announcementRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":30},"end":{"line":12,"column":102}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":50}},"6":{"start":{"line":16,"column":22},"end":{"line":16,"column":85}},"7":{"start":{"line":18,"column":13},"end":{"line":18,"column":41}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":168}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":171}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":172}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":108}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":111}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":111}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":103}},"15":{"start":{"line":27,"column":15},"end":{"line":27,"column":21}},"16":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["announcementRoutes.js"],"names":["router","express","Router","post","authenticate","schemas","announceSchema","controller","createAnnouncement","patch","updateAnnounce","updateStatus","updateAnnouncement","deleteAnnouncement","get","viewAnnouncements","myAnnouncements","announcementDetails"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,0BAAjB,EAA+B,+BAAcC,oBAAQC,cAAtB,CAA/B,EAAsEC,mCAAWC,kBAAjF;AACAR,MAAM,CAACS,KAAP,CAAa,WAAb,EAA0BL,0BAA1B,EAAwC,+BAAcC,oBAAQK,cAAtB,CAAxC,EAA+EH,mCAAWI,YAA1F;AACAX,MAAM,CAACS,KAAP,CAAa,MAAb,EAAqBL,0BAArB,EAAmC,+BAAcC,oBAAQK,cAAtB,CAAnC,EAA0EH,mCAAWK,kBAArF;AACAZ,MAAM,UAAN,CAAc,MAAd,EAAsBI,0BAAtB,EAAoCG,mCAAWM,kBAA/C;AACAb,MAAM,CAACc,GAAP,CAAW,gBAAX,EAA6BV,0BAA7B,EAA2CG,mCAAWQ,iBAAtD;AACAf,MAAM,CAACc,GAAP,CAAW,kBAAX,EAA+BV,0BAA/B,EAA6CG,mCAAWS,eAAxD;AACAhB,MAAM,CAACc,GAAP,CAAW,MAAX,EAAmBV,0BAAnB,EAAiCG,mCAAWU,mBAA5C;eAEejB,M","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes","sourcesContent":["import express from 'express';\r\nimport controller from '../controllers/announcementController';\r\nimport { schemas, validateInput } from '../helpers/validation';\r\nimport authenticate from '../middleware/authentication';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/', authenticate, validateInput(schemas.announceSchema), controller.createAnnouncement);\r\nrouter.patch('/:id/sold', authenticate, validateInput(schemas.updateAnnounce), controller.updateStatus);\r\nrouter.patch('/:id', authenticate, validateInput(schemas.updateAnnounce), controller.updateAnnouncement);\r\nrouter.delete('/:id', authenticate, controller.deleteAnnouncement);\r\nrouter.get('/announcements', authenticate, controller.viewAnnouncements);\r\nrouter.get('/myannouncements', authenticate, controller.myAnnouncements);\r\nrouter.get('/:id', authenticate, controller.announcementDetails);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8f37f46a242628b85586f48b392e22050810ab5d","contentHash":"19e73c09bade17a05d94c674773ceb5606e66d8f9cc799290d66272cb42cfe2b"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\announcementController.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\announcementController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":77}},"4":{"start":{"line":12,"column":17},"end":{"line":237,"column":1}},"5":{"start":{"line":14,"column":16},"end":{"line":18,"column":5}},"6":{"start":{"line":20,"column":23},"end":{"line":20,"column":83}},"7":{"start":{"line":22,"column":4},"end":{"line":27,"column":5}},"8":{"start":{"line":23,"column":6},"end":{"line":26,"column":9}},"9":{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},"10":{"start":{"line":30,"column":6},"end":{"line":33,"column":9}},"11":{"start":{"line":36,"column":4},"end":{"line":39,"column":7}},"12":{"start":{"line":42,"column":16},"end":{"line":46,"column":5}},"13":{"start":{"line":48,"column":17},"end":{"line":48,"column":92}},"14":{"start":{"line":50,"column":4},"end":{"line":55,"column":5}},"15":{"start":{"line":51,"column":6},"end":{"line":54,"column":9}},"16":{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},"17":{"start":{"line":58,"column":6},"end":{"line":61,"column":9}},"18":{"start":{"line":64,"column":4},"end":{"line":69,"column":5}},"19":{"start":{"line":65,"column":6},"end":{"line":68,"column":9}},"20":{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},"21":{"start":{"line":72,"column":6},"end":{"line":75,"column":9}},"22":{"start":{"line":78,"column":4},"end":{"line":81,"column":7}},"23":{"start":{"line":84,"column":16},"end":{"line":88,"column":5}},"24":{"start":{"line":90,"column":17},"end":{"line":90,"column":86}},"25":{"start":{"line":92,"column":4},"end":{"line":97,"column":5}},"26":{"start":{"line":93,"column":6},"end":{"line":96,"column":9}},"27":{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},"28":{"start":{"line":100,"column":6},"end":{"line":103,"column":9}},"29":{"start":{"line":106,"column":4},"end":{"line":111,"column":5}},"30":{"start":{"line":107,"column":6},"end":{"line":110,"column":9}},"31":{"start":{"line":113,"column":4},"end":{"line":116,"column":7}},"32":{"start":{"line":119,"column":16},"end":{"line":123,"column":5}},"33":{"start":{"line":125,"column":17},"end":{"line":125,"column":82}},"34":{"start":{"line":127,"column":4},"end":{"line":132,"column":5}},"35":{"start":{"line":128,"column":6},"end":{"line":131,"column":9}},"36":{"start":{"line":134,"column":4},"end":{"line":139,"column":5}},"37":{"start":{"line":135,"column":6},"end":{"line":138,"column":9}},"38":{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},"39":{"start":{"line":142,"column":6},"end":{"line":145,"column":9}},"40":{"start":{"line":148,"column":4},"end":{"line":151,"column":7}},"41":{"start":{"line":154,"column":16},"end":{"line":158,"column":5}},"42":{"start":{"line":160,"column":18},"end":{"line":160,"column":67}},"43":{"start":{"line":162,"column":4},"end":{"line":167,"column":5}},"44":{"start":{"line":163,"column":6},"end":{"line":166,"column":9}},"45":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"46":{"start":{"line":170,"column":6},"end":{"line":173,"column":9}},"47":{"start":{"line":176,"column":4},"end":{"line":179,"column":7}},"48":{"start":{"line":182,"column":16},"end":{"line":186,"column":5}},"49":{"start":{"line":188,"column":17},"end":{"line":188,"column":83}},"50":{"start":{"line":190,"column":4},"end":{"line":195,"column":5}},"51":{"start":{"line":191,"column":6},"end":{"line":194,"column":9}},"52":{"start":{"line":197,"column":4},"end":{"line":202,"column":5}},"53":{"start":{"line":198,"column":6},"end":{"line":201,"column":9}},"54":{"start":{"line":204,"column":4},"end":{"line":207,"column":7}},"55":{"start":{"line":210,"column":16},"end":{"line":214,"column":5}},"56":{"start":{"line":216,"column":17},"end":{"line":216,"column":64}},"57":{"start":{"line":218,"column":4},"end":{"line":223,"column":5}},"58":{"start":{"line":219,"column":6},"end":{"line":222,"column":9}},"59":{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},"60":{"start":{"line":226,"column":6},"end":{"line":229,"column":9}},"61":{"start":{"line":232,"column":4},"end":{"line":235,"column":7}},"62":{"start":{"line":238,"column":15},"end":{"line":238,"column":25}},"63":{"start":{"line":239,"column":0},"end":{"line":239,"column":30}}},"fnMap":{"0":{"name":"createAnnouncement","decl":{"start":{"line":13,"column":31},"end":{"line":13,"column":49}},"loc":{"start":{"line":13,"column":60},"end":{"line":40,"column":3}},"line":13},"1":{"name":"updateAnnouncement","decl":{"start":{"line":41,"column":31},"end":{"line":41,"column":49}},"loc":{"start":{"line":41,"column":60},"end":{"line":82,"column":3}},"line":41},"2":{"name":"updateStatus","decl":{"start":{"line":83,"column":25},"end":{"line":83,"column":37}},"loc":{"start":{"line":83,"column":48},"end":{"line":117,"column":3}},"line":83},"3":{"name":"deleteAnnouncement","decl":{"start":{"line":118,"column":31},"end":{"line":118,"column":49}},"loc":{"start":{"line":118,"column":60},"end":{"line":152,"column":3}},"line":118},"4":{"name":"viewAnnouncements","decl":{"start":{"line":153,"column":30},"end":{"line":153,"column":47}},"loc":{"start":{"line":153,"column":58},"end":{"line":180,"column":3}},"line":153},"5":{"name":"announcementDetails","decl":{"start":{"line":181,"column":32},"end":{"line":181,"column":51}},"loc":{"start":{"line":181,"column":62},"end":{"line":208,"column":3}},"line":181},"6":{"name":"myAnnouncements","decl":{"start":{"line":209,"column":28},"end":{"line":209,"column":43}},"loc":{"start":{"line":209,"column":54},"end":{"line":236,"column":3}},"line":209}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":27,"column":5}},{"start":{"line":22,"column":4},"end":{"line":27,"column":5}}],"line":22},"1":{"loc":{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},{"start":{"line":29,"column":4},"end":{"line":34,"column":5}}],"line":29},"2":{"loc":{"start":{"line":50,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":55,"column":5}},{"start":{"line":50,"column":4},"end":{"line":55,"column":5}}],"line":50},"3":{"loc":{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},{"start":{"line":57,"column":4},"end":{"line":62,"column":5}}],"line":57},"4":{"loc":{"start":{"line":64,"column":4},"end":{"line":69,"column":5}},"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":69,"column":5}},{"start":{"line":64,"column":4},"end":{"line":69,"column":5}}],"line":64},"5":{"loc":{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},{"start":{"line":71,"column":4},"end":{"line":76,"column":5}}],"line":71},"6":{"loc":{"start":{"line":92,"column":4},"end":{"line":97,"column":5}},"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":97,"column":5}},{"start":{"line":92,"column":4},"end":{"line":97,"column":5}}],"line":92},"7":{"loc":{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},{"start":{"line":99,"column":4},"end":{"line":104,"column":5}}],"line":99},"8":{"loc":{"start":{"line":106,"column":4},"end":{"line":111,"column":5}},"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":111,"column":5}},{"start":{"line":106,"column":4},"end":{"line":111,"column":5}}],"line":106},"9":{"loc":{"start":{"line":127,"column":4},"end":{"line":132,"column":5}},"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":132,"column":5}},{"start":{"line":127,"column":4},"end":{"line":132,"column":5}}],"line":127},"10":{"loc":{"start":{"line":134,"column":4},"end":{"line":139,"column":5}},"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":139,"column":5}},{"start":{"line":134,"column":4},"end":{"line":139,"column":5}}],"line":134},"11":{"loc":{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},{"start":{"line":141,"column":4},"end":{"line":146,"column":5}}],"line":141},"12":{"loc":{"start":{"line":162,"column":4},"end":{"line":167,"column":5}},"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":167,"column":5}},{"start":{"line":162,"column":4},"end":{"line":167,"column":5}}],"line":162},"13":{"loc":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},{"start":{"line":169,"column":4},"end":{"line":174,"column":5}}],"line":169},"14":{"loc":{"start":{"line":190,"column":4},"end":{"line":195,"column":5}},"type":"if","locations":[{"start":{"line":190,"column":4},"end":{"line":195,"column":5}},{"start":{"line":190,"column":4},"end":{"line":195,"column":5}}],"line":190},"15":{"loc":{"start":{"line":197,"column":4},"end":{"line":202,"column":5}},"type":"if","locations":[{"start":{"line":197,"column":4},"end":{"line":202,"column":5}},{"start":{"line":197,"column":4},"end":{"line":202,"column":5}}],"line":197},"16":{"loc":{"start":{"line":218,"column":4},"end":{"line":223,"column":5}},"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":223,"column":5}},{"start":{"line":218,"column":4},"end":{"line":223,"column":5}}],"line":218},"17":{"loc":{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},"type":"if","locations":[{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},{"start":{"line":225,"column":4},"end":{"line":230,"column":5}}],"line":225}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":3,"8":1,"9":2,"10":1,"11":1,"12":6,"13":6,"14":6,"15":1,"16":5,"17":1,"18":4,"19":1,"20":3,"21":1,"22":2,"23":4,"24":4,"25":4,"26":1,"27":3,"28":1,"29":2,"30":1,"31":1,"32":4,"33":4,"34":4,"35":1,"36":3,"37":1,"38":2,"39":1,"40":1,"41":2,"42":2,"43":2,"44":0,"45":2,"46":1,"47":1,"48":3,"49":3,"50":3,"51":1,"52":2,"53":1,"54":1,"55":2,"56":2,"57":2,"58":1,"59":1,"60":0,"61":1,"62":1,"63":1},"f":{"0":3,"1":6,"2":4,"3":4,"4":2,"5":3,"6":2},"b":{"0":[1,2],"1":[1,1],"2":[1,5],"3":[1,4],"4":[1,3],"5":[1,2],"6":[1,3],"7":[1,2],"8":[1,1],"9":[1,3],"10":[1,2],"11":[1,1],"12":[0,2],"13":[1,1],"14":[1,2],"15":[1,1],"16":[1,1],"17":[0,1]},"inputSourceMap":{"version":3,"sources":["announcementController.js"],"names":["controller","createAnnouncement","req","res","token","id","tokenId","email","tokenEmail","isAdmin","tokenIsAdmin","announcement","AnnouncementModel","body","status","json","error","data","updateAnnouncement","result","params","updateStatus","deleteAnnouncement","viewAnnouncements","results","announcementDetails","myAnnouncements"],"mappings":"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","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers","sourcesContent":["import AnnouncementModel from '../models/announcement';\r\n\r\nconst controller = {\r\n\r\n  createAnnouncement(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const announcement = AnnouncementModel.createAnnouncement(req.body, token);\r\n    if (announcement === 'admin') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'You are not an advertiser',\r\n      });\r\n    }\r\n    if (announcement === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'user does not exist',\r\n      });\r\n    }\r\n\r\n    return res.status(201).json({\r\n      status: 'success',\r\n      data: announcement,\r\n    });\r\n  },\r\n  updateAnnouncement(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const result = AnnouncementModel.updateAnnouncement(req.body, req.params.id, token);\r\n    if (result === 'admin') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'You are not advertiser',\r\n      });\r\n    } if (result === 'not the owner') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'You are not the owner',\r\n      });\r\n    }\r\n    if (result === 'Not exists') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'Announcement does not exist',\r\n      });\r\n    } if (result === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'user does not exist',\r\n      });\r\n    }\r\n\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: result,\r\n    });\r\n  },\r\n  updateStatus(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const result = AnnouncementModel.updateStatus(req.body, req.params.id, token);\r\n    if (result === 'not admin') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'You are not admin',\r\n      });\r\n    }\r\n    if (result === 'Not exists') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'Announcement does not exist',\r\n      });\r\n    } if (result === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'user does not exist',\r\n      });\r\n    }\r\n\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: result,\r\n    });\r\n  },\r\n  \r\n  deleteAnnouncement(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const result = AnnouncementModel.deleteAnnouncement(req.params.id, token);\r\n    if (result === 'not admin') {\r\n      return res.status(401).json({\r\n        status: 'error',\r\n        error: 'You are not admin',\r\n      });\r\n    }\r\n    if (result === 'Not exists') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'Announcement does not exist',\r\n      });\r\n    } if (result === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'user does not exist',\r\n      });\r\n    }\r\n\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: result,\r\n    });\r\n  },\r\n  viewAnnouncements(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const results = AnnouncementModel.viewAnnouncements(token);\r\n    if (results === 'no announcements') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'Announcement does not exist',\r\n      });\r\n    }\r\n    if (results === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'you are not a user',\r\n      });\r\n    }\r\n\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: results,\r\n    });\r\n  },\r\n  announcementDetails(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const result = AnnouncementModel.announcementDetails(req.params.id, token);\r\n    if (result === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'you are not a user',\r\n      });\r\n    } if (result === 'not found') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'Announcement does not exists',\r\n      });\r\n    }\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: result,\r\n    });\r\n  },\r\n  myAnnouncements(req, res) {\r\n    const token = {\r\n      id: req.tokenId,\r\n      email: req.tokenEmail,\r\n      isAdmin: req.tokenIsAdmin,\r\n    };\r\n    const result = AnnouncementModel.myAnnouncements(token);\r\n    if (result === 'not found') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'you created no announcements',\r\n      });\r\n    }\r\n    if (result === 'not a user') {\r\n      return res.status(403).json({\r\n        status: 'error',\r\n        error: 'you are not a user',\r\n      });\r\n    }\r\n\r\n    return res.status(200).json({\r\n      status: 'success',\r\n      data: result,\r\n    });\r\n  },\r\n\r\n};\r\nexport default controller;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"58e29603f0fb9148c42cc2fd53aebc4e7d89a81c","contentHash":"d15d1a336386ff776b2d2cfeeb02f544a04448098d71c75e57dd467b9f27b6f2"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcement.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcement.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":57}},"6":{"start":{"line":16,"column":22},"end":{"line":16,"column":73}},"7":{"start":{"line":20,"column":0},"end":{"line":213,"column":3}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":57}},"9":{"start":{"line":25,"column":2},"end":{"line":211,"column":6}},"10":{"start":{"line":28,"column":17},"end":{"line":30,"column":8}},"11":{"start":{"line":29,"column":8},"end":{"line":29,"column":44}},"12":{"start":{"line":32,"column":6},"end":{"line":49,"column":7}},"13":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"14":{"start":{"line":34,"column":10},"end":{"line":34,"column":25}},"15":{"start":{"line":37,"column":28},"end":{"line":44,"column":9}},"16":{"start":{"line":46,"column":8},"end":{"line":46,"column":55}},"17":{"start":{"line":48,"column":8},"end":{"line":48,"column":29}},"18":{"start":{"line":51,"column":6},"end":{"line":51,"column":26}},"19":{"start":{"line":56,"column":20},"end":{"line":58,"column":8}},"20":{"start":{"line":57,"column":8},"end":{"line":57,"column":48}},"21":{"start":{"line":60,"column":18},"end":{"line":60,"column":61}},"22":{"start":{"line":62,"column":17},"end":{"line":64,"column":8}},"23":{"start":{"line":63,"column":8},"end":{"line":63,"column":48}},"24":{"start":{"line":66,"column":6},"end":{"line":86,"column":7}},"25":{"start":{"line":67,"column":8},"end":{"line":83,"column":9}},"26":{"start":{"line":68,"column":10},"end":{"line":70,"column":11}},"27":{"start":{"line":69,"column":12},"end":{"line":69,"column":27}},"28":{"start":{"line":72,"column":10},"end":{"line":80,"column":11}},"29":{"start":{"line":73,"column":12},"end":{"line":73,"column":62}},"30":{"start":{"line":74,"column":12},"end":{"line":74,"column":68}},"31":{"start":{"line":75,"column":12},"end":{"line":75,"column":70}},"32":{"start":{"line":76,"column":12},"end":{"line":76,"column":87}},"33":{"start":{"line":77,"column":12},"end":{"line":77,"column":102}},"34":{"start":{"line":78,"column":12},"end":{"line":78,"column":96}},"35":{"start":{"line":79,"column":12},"end":{"line":79,"column":53}},"36":{"start":{"line":82,"column":10},"end":{"line":82,"column":33}},"37":{"start":{"line":85,"column":8},"end":{"line":85,"column":28}},"38":{"start":{"line":88,"column":6},"end":{"line":88,"column":26}},"39":{"start":{"line":93,"column":20},"end":{"line":95,"column":8}},"40":{"start":{"line":94,"column":8},"end":{"line":94,"column":48}},"41":{"start":{"line":97,"column":18},"end":{"line":97,"column":61}},"42":{"start":{"line":99,"column":17},"end":{"line":101,"column":8}},"43":{"start":{"line":100,"column":8},"end":{"line":100,"column":48}},"44":{"start":{"line":103,"column":6},"end":{"line":119,"column":7}},"45":{"start":{"line":104,"column":8},"end":{"line":116,"column":9}},"46":{"start":{"line":105,"column":10},"end":{"line":113,"column":11}},"47":{"start":{"line":106,"column":12},"end":{"line":106,"column":62}},"48":{"start":{"line":107,"column":12},"end":{"line":107,"column":68}},"49":{"start":{"line":108,"column":12},"end":{"line":108,"column":93}},"50":{"start":{"line":109,"column":12},"end":{"line":109,"column":66}},"51":{"start":{"line":110,"column":12},"end":{"line":110,"column":76}},"52":{"start":{"line":111,"column":12},"end":{"line":111,"column":72}},"53":{"start":{"line":112,"column":12},"end":{"line":112,"column":53}},"54":{"start":{"line":115,"column":10},"end":{"line":115,"column":29}},"55":{"start":{"line":118,"column":8},"end":{"line":118,"column":28}},"56":{"start":{"line":121,"column":6},"end":{"line":121,"column":26}},"57":{"start":{"line":126,"column":20},"end":{"line":128,"column":8}},"58":{"start":{"line":127,"column":8},"end":{"line":127,"column":48}},"59":{"start":{"line":130,"column":18},"end":{"line":130,"column":61}},"60":{"start":{"line":132,"column":17},"end":{"line":134,"column":8}},"61":{"start":{"line":133,"column":8},"end":{"line":133,"column":48}},"62":{"start":{"line":136,"column":6},"end":{"line":148,"column":7}},"63":{"start":{"line":137,"column":8},"end":{"line":145,"column":9}},"64":{"start":{"line":138,"column":10},"end":{"line":142,"column":11}},"65":{"start":{"line":139,"column":12},"end":{"line":139,"column":56}},"66":{"start":{"line":141,"column":12},"end":{"line":141,"column":27}},"67":{"start":{"line":144,"column":10},"end":{"line":144,"column":29}},"68":{"start":{"line":147,"column":8},"end":{"line":147,"column":28}},"69":{"start":{"line":150,"column":6},"end":{"line":150,"column":26}},"70":{"start":{"line":155,"column":17},"end":{"line":157,"column":8}},"71":{"start":{"line":156,"column":8},"end":{"line":156,"column":48}},"72":{"start":{"line":159,"column":6},"end":{"line":165,"column":7}},"73":{"start":{"line":160,"column":8},"end":{"line":162,"column":9}},"74":{"start":{"line":161,"column":10},"end":{"line":161,"column":44}},"75":{"start":{"line":164,"column":8},"end":{"line":164,"column":34}},"76":{"start":{"line":167,"column":6},"end":{"line":167,"column":26}},"77":{"start":{"line":172,"column":17},"end":{"line":174,"column":8}},"78":{"start":{"line":173,"column":8},"end":{"line":173,"column":48}},"79":{"start":{"line":176,"column":6},"end":{"line":186,"column":7}},"80":{"start":{"line":177,"column":27},"end":{"line":179,"column":10}},"81":{"start":{"line":178,"column":10},"end":{"line":178,"column":50}},"82":{"start":{"line":181,"column":8},"end":{"line":183,"column":9}},"83":{"start":{"line":182,"column":10},"end":{"line":182,"column":30}},"84":{"start":{"line":185,"column":8},"end":{"line":185,"column":27}},"85":{"start":{"line":188,"column":6},"end":{"line":188,"column":26}},"86":{"start":{"line":193,"column":17},"end":{"line":195,"column":8}},"87":{"start":{"line":194,"column":8},"end":{"line":194,"column":48}},"88":{"start":{"line":197,"column":27},"end":{"line":199,"column":8}},"89":{"start":{"line":198,"column":8},"end":{"line":198,"column":56}},"90":{"start":{"line":201,"column":6},"end":{"line":207,"column":7}},"91":{"start":{"line":202,"column":8},"end":{"line":204,"column":9}},"92":{"start":{"line":203,"column":10},"end":{"line":203,"column":32}},"93":{"start":{"line":206,"column":8},"end":{"line":206,"column":27}},"94":{"start":{"line":209,"column":6},"end":{"line":209,"column":26}},"95":{"start":{"line":212,"column":2},"end":{"line":212,"column":22}},"96":{"start":{"line":215,"column":0},"end":{"line":215,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":0},"end":{"line":20,"column":1}},"loc":{"start":{"line":20,"column":12},"end":{"line":213,"column":1}},"line":20},"1":{"name":"Announcement","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":23}},"loc":{"start":{"line":21,"column":26},"end":{"line":23,"column":3}},"line":21},"2":{"name":"createAnnouncement","decl":{"start":{"line":27,"column":20},"end":{"line":27,"column":38}},"loc":{"start":{"line":27,"column":60},"end":{"line":52,"column":5}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":41},"end":{"line":28,"column":42}},"loc":{"start":{"line":28,"column":55},"end":{"line":30,"column":7}},"line":28},"4":{"name":"updateAnnouncement","decl":{"start":{"line":55,"column":20},"end":{"line":55,"column":38}},"loc":{"start":{"line":55,"column":64},"end":{"line":89,"column":5}},"line":55},"5":{"name":"(anonymous_5)","decl":{"start":{"line":56,"column":52},"end":{"line":56,"column":53}},"loc":{"start":{"line":56,"column":72},"end":{"line":58,"column":7}},"line":56},"6":{"name":"(anonymous_6)","decl":{"start":{"line":62,"column":41},"end":{"line":62,"column":42}},"loc":{"start":{"line":62,"column":55},"end":{"line":64,"column":7}},"line":62},"7":{"name":"updateStatus","decl":{"start":{"line":92,"column":20},"end":{"line":92,"column":32}},"loc":{"start":{"line":92,"column":58},"end":{"line":122,"column":5}},"line":92},"8":{"name":"(anonymous_8)","decl":{"start":{"line":93,"column":52},"end":{"line":93,"column":53}},"loc":{"start":{"line":93,"column":72},"end":{"line":95,"column":7}},"line":93},"9":{"name":"(anonymous_9)","decl":{"start":{"line":99,"column":41},"end":{"line":99,"column":42}},"loc":{"start":{"line":99,"column":55},"end":{"line":101,"column":7}},"line":99},"10":{"name":"deleteAnnouncement","decl":{"start":{"line":125,"column":20},"end":{"line":125,"column":38}},"loc":{"start":{"line":125,"column":50},"end":{"line":151,"column":5}},"line":125},"11":{"name":"(anonymous_11)","decl":{"start":{"line":126,"column":52},"end":{"line":126,"column":53}},"loc":{"start":{"line":126,"column":72},"end":{"line":128,"column":7}},"line":126},"12":{"name":"(anonymous_12)","decl":{"start":{"line":132,"column":41},"end":{"line":132,"column":42}},"loc":{"start":{"line":132,"column":55},"end":{"line":134,"column":7}},"line":132},"13":{"name":"viewAnnouncements","decl":{"start":{"line":154,"column":20},"end":{"line":154,"column":37}},"loc":{"start":{"line":154,"column":45},"end":{"line":168,"column":5}},"line":154},"14":{"name":"(anonymous_14)","decl":{"start":{"line":155,"column":41},"end":{"line":155,"column":42}},"loc":{"start":{"line":155,"column":55},"end":{"line":157,"column":7}},"line":155},"15":{"name":"announcementDetails","decl":{"start":{"line":171,"column":20},"end":{"line":171,"column":39}},"loc":{"start":{"line":171,"column":51},"end":{"line":189,"column":5}},"line":171},"16":{"name":"(anonymous_16)","decl":{"start":{"line":172,"column":41},"end":{"line":172,"column":42}},"loc":{"start":{"line":172,"column":55},"end":{"line":174,"column":7}},"line":172},"17":{"name":"(anonymous_17)","decl":{"start":{"line":177,"column":59},"end":{"line":177,"column":60}},"loc":{"start":{"line":177,"column":79},"end":{"line":179,"column":9}},"line":177},"18":{"name":"myAnnouncements","decl":{"start":{"line":192,"column":20},"end":{"line":192,"column":35}},"loc":{"start":{"line":192,"column":43},"end":{"line":210,"column":5}},"line":192},"19":{"name":"(anonymous_19)","decl":{"start":{"line":193,"column":41},"end":{"line":193,"column":42}},"loc":{"start":{"line":193,"column":55},"end":{"line":195,"column":7}},"line":193},"20":{"name":"(anonymous_20)","decl":{"start":{"line":197,"column":59},"end":{"line":197,"column":60}},"loc":{"start":{"line":197,"column":79},"end":{"line":199,"column":7}},"line":197}},"branchMap":{"0":{"loc":{"start":{"line":32,"column":6},"end":{"line":49,"column":7}},"type":"if","locations":[{"start":{"line":32,"column":6},"end":{"line":49,"column":7}},{"start":{"line":32,"column":6},"end":{"line":49,"column":7}}],"line":32},"1":{"loc":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},{"start":{"line":33,"column":8},"end":{"line":35,"column":9}}],"line":33},"2":{"loc":{"start":{"line":40,"column":18},"end":{"line":40,"column":50}},"type":"binary-expr","locations":[{"start":{"line":40,"column":18},"end":{"line":40,"column":37}},{"start":{"line":40,"column":41},"end":{"line":40,"column":50}}],"line":40},"3":{"loc":{"start":{"line":66,"column":6},"end":{"line":86,"column":7}},"type":"if","locations":[{"start":{"line":66,"column":6},"end":{"line":86,"column":7}},{"start":{"line":66,"column":6},"end":{"line":86,"column":7}}],"line":66},"4":{"loc":{"start":{"line":67,"column":8},"end":{"line":83,"column":9}},"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":83,"column":9}},{"start":{"line":67,"column":8},"end":{"line":83,"column":9}}],"line":67},"5":{"loc":{"start":{"line":68,"column":10},"end":{"line":70,"column":11}},"type":"if","locations":[{"start":{"line":68,"column":10},"end":{"line":70,"column":11}},{"start":{"line":68,"column":10},"end":{"line":70,"column":11}}],"line":68},"6":{"loc":{"start":{"line":72,"column":10},"end":{"line":80,"column":11}},"type":"if","locations":[{"start":{"line":72,"column":10},"end":{"line":80,"column":11}},{"start":{"line":72,"column":10},"end":{"line":80,"column":11}}],"line":72},"7":{"loc":{"start":{"line":76,"column":53},"end":{"line":76,"column":86}},"type":"binary-expr","locations":[{"start":{"line":76,"column":53},"end":{"line":76,"column":70}},{"start":{"line":76,"column":74},"end":{"line":76,"column":86}}],"line":76},"8":{"loc":{"start":{"line":77,"column":58},"end":{"line":77,"column":101}},"type":"binary-expr","locations":[{"start":{"line":77,"column":58},"end":{"line":77,"column":80}},{"start":{"line":77,"column":84},"end":{"line":77,"column":101}}],"line":77},"9":{"loc":{"start":{"line":78,"column":56},"end":{"line":78,"column":95}},"type":"binary-expr","locations":[{"start":{"line":78,"column":56},"end":{"line":78,"column":76}},{"start":{"line":78,"column":80},"end":{"line":78,"column":95}}],"line":78},"10":{"loc":{"start":{"line":103,"column":6},"end":{"line":119,"column":7}},"type":"if","locations":[{"start":{"line":103,"column":6},"end":{"line":119,"column":7}},{"start":{"line":103,"column":6},"end":{"line":119,"column":7}}],"line":103},"11":{"loc":{"start":{"line":104,"column":8},"end":{"line":116,"column":9}},"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":116,"column":9}},{"start":{"line":104,"column":8},"end":{"line":116,"column":9}}],"line":104},"12":{"loc":{"start":{"line":105,"column":10},"end":{"line":113,"column":11}},"type":"if","locations":[{"start":{"line":105,"column":10},"end":{"line":113,"column":11}},{"start":{"line":105,"column":10},"end":{"line":113,"column":11}}],"line":105},"13":{"loc":{"start":{"line":108,"column":55},"end":{"line":108,"column":92}},"type":"binary-expr","locations":[{"start":{"line":108,"column":55},"end":{"line":108,"column":74}},{"start":{"line":108,"column":78},"end":{"line":108,"column":92}}],"line":108},"14":{"loc":{"start":{"line":136,"column":6},"end":{"line":148,"column":7}},"type":"if","locations":[{"start":{"line":136,"column":6},"end":{"line":148,"column":7}},{"start":{"line":136,"column":6},"end":{"line":148,"column":7}}],"line":136},"15":{"loc":{"start":{"line":137,"column":8},"end":{"line":145,"column":9}},"type":"if","locations":[{"start":{"line":137,"column":8},"end":{"line":145,"column":9}},{"start":{"line":137,"column":8},"end":{"line":145,"column":9}}],"line":137},"16":{"loc":{"start":{"line":138,"column":10},"end":{"line":142,"column":11}},"type":"if","locations":[{"start":{"line":138,"column":10},"end":{"line":142,"column":11}},{"start":{"line":138,"column":10},"end":{"line":142,"column":11}}],"line":138},"17":{"loc":{"start":{"line":159,"column":6},"end":{"line":165,"column":7}},"type":"if","locations":[{"start":{"line":159,"column":6},"end":{"line":165,"column":7}},{"start":{"line":159,"column":6},"end":{"line":165,"column":7}}],"line":159},"18":{"loc":{"start":{"line":160,"column":8},"end":{"line":162,"column":9}},"type":"if","locations":[{"start":{"line":160,"column":8},"end":{"line":162,"column":9}},{"start":{"line":160,"column":8},"end":{"line":162,"column":9}}],"line":160},"19":{"loc":{"start":{"line":176,"column":6},"end":{"line":186,"column":7}},"type":"if","locations":[{"start":{"line":176,"column":6},"end":{"line":186,"column":7}},{"start":{"line":176,"column":6},"end":{"line":186,"column":7}}],"line":176},"20":{"loc":{"start":{"line":181,"column":8},"end":{"line":183,"column":9}},"type":"if","locations":[{"start":{"line":181,"column":8},"end":{"line":183,"column":9}},{"start":{"line":181,"column":8},"end":{"line":183,"column":9}}],"line":181},"21":{"loc":{"start":{"line":201,"column":6},"end":{"line":207,"column":7}},"type":"if","locations":[{"start":{"line":201,"column":6},"end":{"line":207,"column":7}},{"start":{"line":201,"column":6},"end":{"line":207,"column":7}}],"line":201},"22":{"loc":{"start":{"line":202,"column":8},"end":{"line":204,"column":9}},"type":"if","locations":[{"start":{"line":202,"column":8},"end":{"line":204,"column":9}},{"start":{"line":202,"column":8},"end":{"line":204,"column":9}}],"line":202}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":3,"11":18,"12":3,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":6,"20":24,"21":6,"22":6,"23":37,"24":6,"25":5,"26":4,"27":1,"28":3,"29":2,"30":2,"31":2,"32":2,"33":2,"34":2,"35":2,"36":1,"37":1,"38":1,"39":4,"40":16,"41":4,"42":4,"43":23,"44":4,"45":3,"46":2,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":4,"58":14,"59":4,"60":4,"61":23,"62":4,"63":3,"64":2,"65":1,"66":1,"67":1,"68":1,"69":1,"70":2,"71":13,"72":2,"73":1,"74":1,"75":0,"76":1,"77":3,"78":19,"79":3,"80":2,"81":8,"82":2,"83":1,"84":1,"85":1,"86":2,"87":13,"88":2,"89":8,"90":2,"91":2,"92":1,"93":1,"94":0,"95":1,"96":1},"f":{"0":1,"1":0,"2":3,"3":18,"4":6,"5":24,"6":37,"7":4,"8":16,"9":23,"10":4,"11":14,"12":23,"13":2,"14":13,"15":3,"16":19,"17":8,"18":2,"19":13,"20":8},"b":{"0":[2,1],"1":[1,1],"2":[1,0],"3":[5,1],"4":[4,1],"5":[1,3],"6":[2,1],"7":[2,0],"8":[2,0],"9":[2,0],"10":[3,1],"11":[2,1],"12":[1,1],"13":[1,0],"14":[3,1],"15":[2,1],"16":[1,1],"17":[1,1],"18":[1,0],"19":[2,1],"20":[1,1],"21":[2,0],"22":[1,1]},"inputSourceMap":{"version":3,"sources":["announcement.js"],"names":["Announcement","announcement","token","user","users","find","us","id","parseInt","isAdmin","announcement1","announcements","length","owner","status","text","startDate","endDate","push","checker","announce","index","indexOf","splice","myAnnouncement"],"mappings":"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","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["\r\nimport users from './userdb';\r\nimport announcements from './announcementdb';\r\nexport default class Announcement {\r\n  static createAnnouncement(announcement, token) {\r\n    const user = users.find((us) => us.id === parseInt(token.id));\r\n    if (user) {\r\n      if (token.isAdmin) {\r\n        return 'admin';\r\n      }\r\n      const announcement1 = {\r\n        id: (announcements.length)+1,\r\n        owner: token.id,\r\n        status: announcement.status || 'pending',\r\n        text: announcement.text,\r\n        startDate: announcement.startDate,\r\n        endDate: announcement.endDate,\r\n      };\r\n      announcements.push(announcement1);\r\n      return announcement1;\r\n    }\r\n\r\n    return 'not a user';\r\n  }\r\n\r\n  static updateAnnouncement(announcement, id, token) {\r\n    const checker = announcements.find((announce) => announce.id === parseInt(id, 10));\r\n    const index = announcements.indexOf(checker);\r\n    const user = users.find((us) => us.id === parseInt(token.id, 10));\r\n    if (user) {\r\n      if (checker) {\r\n        if (token.isAdmin) {\r\n          return 'admin';\r\n        }\r\n        if (parseInt(token.id,10) === checker.owner) {\r\n          announcements[index].id = checker.id;\r\n          announcements[index].owner = checker.owner;\r\n          announcements[index].status = checker.status;\r\n          announcements[index].text = announcement.text || checker.text;\r\n          announcements[index].startDate = announcement.startDate || checker.startDate;\r\n          announcements[index].endDate = announcement.endDate || checker.endDate;\r\n\r\n          return announcements[index];\r\n        }\r\n\r\n        return 'not the owner';\r\n      }\r\n\r\n      return 'Not exists';\r\n    }\r\n\r\n    return 'not a user';\r\n  }\r\n\r\n  static updateStatus(announcement, id, token) {\r\n    const checker = announcements.find((announce) => announce.id === parseInt(id,10));\r\n    const index = announcements.indexOf(checker);\r\n    const user = users.find((us) => us.id === parseInt(token.id,10));\r\n    if (user) {\r\n      if (checker) {\r\n        if (token.isAdmin) {\r\n          announcements[index].id = checker.id;\r\n          announcements[index].owner = checker.owner;\r\n          announcements[index].status = announcement.status || checker.status;\r\n          announcements[index].text = checker.text;\r\n          announcements[index].startDate = checker.startDate;\r\n          announcements[index].endDate = checker.endDate;\r\n\r\n          return announcements[index];\r\n        }\r\n\r\n        return 'not admin';\r\n      }\r\n\r\n      return 'Not exists';\r\n    }\r\n    return 'not a user';\r\n  }\r\n\r\n  static deleteAnnouncement(id, token) {\r\n    const checker = announcements.find((announce) => announce.id === parseInt(id,10));\r\n    const index = announcements.indexOf(checker);\r\n    const user = users.find((us) => us.id === parseInt(token.id,10));\r\n    if (user) {\r\n      if (checker) {\r\n        if (token.isAdmin) {\r\n          announcements.splice(index, 1);\r\n          return checker;\r\n        }\r\n\r\n        return 'not admin';\r\n      }\r\n\r\n      return 'Not exists';\r\n    }\r\n\r\n    return 'not a user';\r\n  }\r\n\r\n  static viewAnnouncements(token) {\r\n    const user = users.find((us) => us.id === parseInt(token.id,10));\r\n    if (user) {\r\n      if (announcements) {\r\n        return announcements;\r\n      }\r\n      return 'no announcements';\r\n    }\r\n    return 'not a user';\r\n  }\r\n\r\n  static announcementDetails(id, token) {\r\n    const user = users.find((us) => us.id === parseInt(token.id,10));\r\n    if (user) {\r\n      const announcement = announcements.find((announce) => announce.id === parseInt(id,10));\r\n      if (announcement) {\r\n        return announcement;\r\n      }\r\n      return 'not found';\r\n    }\r\n    return 'not a user';\r\n  }\r\n\r\n  static myAnnouncements(token) {\r\n    const user = users.find((us) => us.id === parseInt(token.id,10));\r\n    const myAnnouncement = announcements.find((announce) => announce.owner === parseInt(user.id,10));\r\n    if (user) {\r\n      if (myAnnouncement) {\r\n        return myAnnouncement;\r\n      }\r\n\r\n      return 'not found';\r\n    }\r\n    return 'not a user';\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"577e712312394b1a3b4356535a6b961579170446","contentHash":"01a04bdd4cd66b5e843eaf6489d079e0e9a4e487393b9f1860ef382fa04a334e"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcementdb.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcementdb.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":20},"end":{"line":28,"column":2}},"3":{"start":{"line":29,"column":15},"end":{"line":29,"column":28}},"4":{"start":{"line":30,"column":0},"end":{"line":30,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["announcementdb.js"],"names":["announcements","id","owner","status","text","startDate","endDate"],"mappings":";;;;;;AAAA,IAAMA,aAAa,GAAG,CAAC;AACrBC,EAAAA,EAAE,EAAE,CADiB;AAErBC,EAAAA,KAAK,EAAE,CAFc;AAGrBC,EAAAA,MAAM,EAAE,QAHa;AAIrBC,EAAAA,IAAI,EAAE,2BAJe;AAKrBC,EAAAA,SAAS,EAAE,0BALU;AAMrBC,EAAAA,OAAO,EAAE;AANY,CAAD,EAOnB;AACDL,EAAAA,EAAE,EAAE,CADH;AAEDC,EAAAA,KAAK,EAAE,CAFN;AAGDC,EAAAA,MAAM,EAAE,UAHP;AAIDC,EAAAA,IAAI,EAAE,2BAJL;AAKDC,EAAAA,SAAS,EAAE,0BALV;AAMDC,EAAAA,OAAO,EAAE;AANR,CAPmB,EAcnB;AACDL,EAAAA,EAAE,EAAE,CADH;AAEDC,EAAAA,KAAK,EAAE,CAFN;AAGDC,EAAAA,MAAM,EAAE,QAHP;AAIDC,EAAAA,IAAI,EAAE,2BAJL;AAKDC,EAAAA,SAAS,EAAE,0BALV;AAMDC,EAAAA,OAAO,EAAE;AANR,CAdmB,CAAtB;eAsBeN,a","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["const announcements = [{\r\n  id: 1,\r\n  owner: 1,\r\n  status: 'active',\r\n  text: 'you should pay schoolfees',\r\n  startDate: '2020-01-15T22:55:44.356Z',\r\n  endDate: '2020-06-10T22:55:44.356Z',\r\n}, {\r\n  id: 2,\r\n  owner: 2,\r\n  status: 'accepted',\r\n  text: 'you should pay schoolfees',\r\n  startDate: '2020-01-15T22:55:44.356Z',\r\n  endDate: '2020-06-10T22:55:44.356Z',\r\n}, {\r\n  id: 3,\r\n  owner: 3,\r\n  status: 'active',\r\n  text: 'you should pay schoolfees',\r\n  startDate: '2020-01-15T22:55:44.356Z',\r\n  endDate: '2020-06-10T22:55:44.356Z',\r\n}];\r\nexport default announcements;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"24ad82be95a6fe1e8153065eab80efa571b3b050","contentHash":"c4d4e1c2cbd6c9f188a22e83c46d219792300776dcad8be50ed95811f8228fa3"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\middleware\\authentication.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\middleware\\authentication.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":19},"end":{"line":28,"column":1}},"5":{"start":{"line":13,"column":20},"end":{"line":13,"column":36}},"6":{"start":{"line":15,"column":2},"end":{"line":27,"column":3}},"7":{"start":{"line":16,"column":17},"end":{"line":16,"column":59}},"8":{"start":{"line":18,"column":4},"end":{"line":18,"column":28}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":38}},"10":{"start":{"line":20,"column":4},"end":{"line":20,"column":34}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":18}},"12":{"start":{"line":23,"column":4},"end":{"line":26,"column":7}},"13":{"start":{"line":30,"column":15},"end":{"line":30,"column":27}},"14":{"start":{"line":31,"column":0},"end":{"line":31,"column":30}}},"fnMap":{"0":{"name":"authenticate","decl":{"start":{"line":12,"column":28},"end":{"line":12,"column":40}},"loc":{"start":{"line":12,"column":57},"end":{"line":28,"column":1}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":26,"6":26,"7":26,"8":25,"9":25,"10":25,"11":25,"12":1,"13":1,"14":1},"f":{"0":26},"b":{},"inputSourceMap":{"version":3,"sources":["authentication.js"],"names":["authenticate","req","res","next","authHeaders","get","decode","tokenHelper","decodeToken","tokenId","id","tokenIsAdmin","isAdmin","tokenEmail","email","err","status","json","error"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,MAAMC,WAAW,GAAGH,GAAG,CAACI,GAAJ,CAAQ,OAAR,CAApB;;AACA,MAAI;AACF,QAAMC,MAAM,GAAGC,kBAAYC,WAAZ,CAAwBJ,WAAxB,CAAf;;AACAH,IAAAA,GAAG,CAACQ,OAAJ,GAAcH,MAAM,CAACI,EAArB;AACAT,IAAAA,GAAG,CAACU,YAAJ,GAAmBL,MAAM,CAACM,OAA1B;AACAX,IAAAA,GAAG,CAACY,UAAJ,GAAiBP,MAAM,CAACQ,KAAxB;AACA,WAAOX,IAAI,EAAX;AACD,GAND,CAME,OAAOY,GAAP,EAAY;AACZ,WAAOb,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,MAAAA,MAAM,EAAE,OADkB;AAE1BE,MAAAA,KAAK,EAAE;AAFmB,KAArB,CAAP;AAID;AACF,CAdD;;eAeelB,Y","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\middleware","sourcesContent":["import tokenHelper from '../helpers/token';\r\n\r\nconst authenticate = (req, res, next) => {\r\n  const authHeaders = req.get('token');\r\n  try {\r\n    const decode = tokenHelper.decodeToken(authHeaders);\r\n    req.tokenId = decode.id;\r\n    req.tokenIsAdmin = decode.isAdmin;\r\n    req.tokenEmail = decode.email;\r\n    return next();\r\n  } catch (err) {\r\n    return res.status(403).json({\r\n      status: 'error',\r\n      error: 'not logged in',\r\n    });\r\n  }\r\n};\r\nexport default authenticate;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"86b5b7293d828f14a37faaed2c745adc488693c3","contentHash":"71f70a98653a0b8e378663841717ddd8d715c87c66802ca1b4e3f8e1077f05a7"}}