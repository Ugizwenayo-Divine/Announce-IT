{"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\server.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\server.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":72}},"5":{"start":{"line":14,"column":26},"end":{"line":14,"column":88}},"6":{"start":{"line":16,"column":10},"end":{"line":16,"column":36}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":36}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":48}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":64}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":17}},"11":{"start":{"line":21,"column":15},"end":{"line":21,"column":18}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["server.js"],"names":["app","use","express","json","routers","announceRouter","listen"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBG,sBAAxB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,sBAAR,EAAgCI,8BAAhC;AACAL,GAAG,CAACM,MAAJ,CAAW,IAAX;eAEeN,G","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src","sourcesContent":["import express from 'express';\nimport routers from './routes/userRoutes';\nimport announceRouter from './routes/announcementRoutes';\n\nconst app = express();\n\napp.use(express.json());\napp.use('/api/v1/auth', routers);\napp.use('/api/v1/announcement', announceRouter);\napp.listen(5000);\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d5ce60532853dd4bafa8f74877c709285baa350e","contentHash":"952cc42e0587bcf792639afa505b9a63068ebe1168f2d9488d71d771eccbcb2b"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\userRoutes.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\userRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":86}},"5":{"start":{"line":14,"column":30},"end":{"line":14,"column":102}},"6":{"start":{"line":16,"column":18},"end":{"line":16,"column":50}},"7":{"start":{"line":18,"column":13},"end":{"line":18,"column":41}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":126}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":61}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":152}},"11":{"start":{"line":23,"column":15},"end":{"line":23,"column":21}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["userRoutes.js"],"names":["router","express","Router","post","schemas","authSchema","userController","createUser","userLogin","announceSchema","controller","createAnnouncement"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,+BAAcC,oBAAQC,UAAtB,CAAvB,EAA0DC,2BAAeC,UAAzE;AACAP,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBG,2BAAeE,SAAtC;AACAR,MAAM,CAACG,IAAP,CAAY,eAAZ,EAA6B,+BAAcC,oBAAQK,cAAtB,CAA7B,EAAoEC,mCAAWC,kBAA/E;eAEeX,M","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes","sourcesContent":["import express from 'express';\nimport userController from '../controllers/userController';\nimport controller from '../controllers/announcementController';\nimport { schemas, validateInput } from '../helpers/validation';\n\nconst router = express.Router();\n\nrouter.post('/signup', validateInput(schemas.authSchema), userController.createUser);\nrouter.post('/signin', userController.userLogin);\nrouter.post('/announcement', validateInput(schemas.announceSchema), controller.createAnnouncement);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9233efe0e073b1efb80efe042e890856a6ab0338","contentHash":"650c751443d177f8769b36f8c00216bdccbf63dbb82eb50f5acfb48e4866c1f1"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\userController.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\userController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":61}},"4":{"start":{"line":12,"column":21},"end":{"line":75,"column":1}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":52}},"6":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"7":{"start":{"line":17,"column":6},"end":{"line":20,"column":9}},"8":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"9":{"start":{"line":24,"column":6},"end":{"line":27,"column":9}},"10":{"start":{"line":30,"column":4},"end":{"line":42,"column":7}},"11":{"start":{"line":45,"column":16},"end":{"line":45,"column":48}},"12":{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},"13":{"start":{"line":48,"column":6},"end":{"line":51,"column":9}},"14":{"start":{"line":54,"column":4},"end":{"line":59,"column":5}},"15":{"start":{"line":55,"column":6},"end":{"line":58,"column":9}},"16":{"start":{"line":61,"column":4},"end":{"line":73,"column":7}},"17":{"start":{"line":76,"column":15},"end":{"line":76,"column":29}},"18":{"start":{"line":77,"column":0},"end":{"line":77,"column":30}}},"fnMap":{"0":{"name":"createUser","decl":{"start":{"line":13,"column":23},"end":{"line":13,"column":33}},"loc":{"start":{"line":13,"column":44},"end":{"line":43,"column":3}},"line":13},"1":{"name":"userLogin","decl":{"start":{"line":44,"column":22},"end":{"line":44,"column":31}},"loc":{"start":{"line":44,"column":42},"end":{"line":74,"column":3}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},{"start":{"line":16,"column":4},"end":{"line":21,"column":5}}],"line":16},"1":{"loc":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},{"start":{"line":23,"column":4},"end":{"line":28,"column":5}}],"line":23},"2":{"loc":{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},{"start":{"line":47,"column":4},"end":{"line":52,"column":5}}],"line":47},"3":{"loc":{"start":{"line":54,"column":4},"end":{"line":59,"column":5}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":59,"column":5}},{"start":{"line":54,"column":4},"end":{"line":59,"column":5}}],"line":54}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":5,"6":5,"7":0,"8":5,"9":2,"10":3,"11":3,"12":3,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1},"f":{"0":5,"1":3},"b":{"0":[0,5],"1":[2,3],"2":[1,2],"3":[1,1]},"inputSourceMap":{"version":3,"sources":["userController.js"],"names":["userController","createUser","req","res","user","userModel","body","status","json","error","data","token","id","first_name","last_name","email","address","phoneNumber","is_admin","userLogin","login"],"mappings":"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","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers","sourcesContent":["import userModel from '../models/user';\n\nconst userController = {\n\n  createUser(req, res) {\n    const user = userModel.createUser(req.body);\n    if (user === 'user exists') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'That email has been used',\n      });\n    }\n    if (user === 'That id exists') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'That id already exists',\n      });\n    }\n    return res.status(201).json({\n      status: 'success',\n      data: {\n        token: user.token,\n        id: user.data.id,\n        first_name: user.data.first_name,\n        last_name: user.data.last_name,\n        email: user.data.email,\n        address: user.data.address,\n        phoneNumber: user.data.phoneNumber,\n        is_admin: user.is_admin,\n      },\n    });\n  },\n\n  userLogin(req, res) {\n    const login = userModel.login(req.body);\n    if (login === 'Does not exist') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'user does not exist',\n      });\n    }\n    if (login === 'incorrect password') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'incorrect password',\n      });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: {\n        token: login.token,\n        id: login.user.id,\n        first_name: login.user.first_name,\n        last_name: login.user.last_name,\n        email: login.user.email,\n        address: login.user.address,\n        phoneNumber: login.user.phoneNumber,\n        is_admin: login.user.is_admin,\n      },\n    });\n  },\n};\nexport default userController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d25c55c54dbfd377665b15d40898c1f0d4f4a958","contentHash":"8ed5420151538a46a10ef6caa6778fc25762e92665c9c557fd7acac4016e48a9"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\user.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\user.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":55}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":64}},"7":{"start":{"line":18,"column":14},"end":{"line":18,"column":57}},"8":{"start":{"line":22,"column":0},"end":{"line":100,"column":3}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":49}},"10":{"start":{"line":27,"column":2},"end":{"line":98,"column":6}},"11":{"start":{"line":30,"column":26},"end":{"line":32,"column":8}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":33}},"13":{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},"14":{"start":{"line":35,"column":8},"end":{"line":35,"column":32}},"15":{"start":{"line":38,"column":22},"end":{"line":40,"column":8}},"16":{"start":{"line":39,"column":8},"end":{"line":39,"column":39}},"17":{"start":{"line":42,"column":6},"end":{"line":44,"column":7}},"18":{"start":{"line":43,"column":8},"end":{"line":43,"column":29}},"19":{"start":{"line":46,"column":19},"end":{"line":46,"column":65}},"20":{"start":{"line":48,"column":17},"end":{"line":57,"column":7}},"21":{"start":{"line":59,"column":6},"end":{"line":59,"column":36}},"22":{"start":{"line":61,"column":18},"end":{"line":65,"column":8}},"23":{"start":{"line":67,"column":6},"end":{"line":70,"column":8}},"24":{"start":{"line":75,"column":22},"end":{"line":77,"column":8}},"25":{"start":{"line":76,"column":8},"end":{"line":76,"column":39}},"26":{"start":{"line":79,"column":6},"end":{"line":94,"column":7}},"27":{"start":{"line":80,"column":8},"end":{"line":91,"column":9}},"28":{"start":{"line":81,"column":22},"end":{"line":85,"column":12}},"29":{"start":{"line":87,"column":10},"end":{"line":90,"column":12}},"30":{"start":{"line":93,"column":8},"end":{"line":93,"column":36}},"31":{"start":{"line":96,"column":6},"end":{"line":96,"column":30}},"32":{"start":{"line":99,"column":2},"end":{"line":99,"column":14}},"33":{"start":{"line":102,"column":0},"end":{"line":102,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":22,"column":0},"end":{"line":22,"column":1}},"loc":{"start":{"line":22,"column":12},"end":{"line":100,"column":1}},"line":22},"1":{"name":"User","decl":{"start":{"line":23,"column":11},"end":{"line":23,"column":15}},"loc":{"start":{"line":23,"column":18},"end":{"line":25,"column":3}},"line":23},"2":{"name":"createUser","decl":{"start":{"line":29,"column":20},"end":{"line":29,"column":30}},"loc":{"start":{"line":29,"column":37},"end":{"line":71,"column":5}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":50},"end":{"line":30,"column":51}},"loc":{"start":{"line":30,"column":64},"end":{"line":32,"column":7}},"line":30},"4":{"name":"(anonymous_4)","decl":{"start":{"line":38,"column":46},"end":{"line":38,"column":47}},"loc":{"start":{"line":38,"column":60},"end":{"line":40,"column":7}},"line":38},"5":{"name":"login","decl":{"start":{"line":74,"column":20},"end":{"line":74,"column":25}},"loc":{"start":{"line":74,"column":32},"end":{"line":97,"column":5}},"line":74},"6":{"name":"(anonymous_6)","decl":{"start":{"line":75,"column":46},"end":{"line":75,"column":47}},"loc":{"start":{"line":75,"column":60},"end":{"line":77,"column":7}},"line":75}},"branchMap":{"0":{"loc":{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},{"start":{"line":34,"column":6},"end":{"line":36,"column":7}}],"line":34},"1":{"loc":{"start":{"line":42,"column":6},"end":{"line":44,"column":7}},"type":"if","locations":[{"start":{"line":42,"column":6},"end":{"line":44,"column":7}},{"start":{"line":42,"column":6},"end":{"line":44,"column":7}}],"line":42},"2":{"loc":{"start":{"line":79,"column":6},"end":{"line":94,"column":7}},"type":"if","locations":[{"start":{"line":79,"column":6},"end":{"line":94,"column":7}},{"start":{"line":79,"column":6},"end":{"line":94,"column":7}}],"line":79},"3":{"loc":{"start":{"line":80,"column":8},"end":{"line":91,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":91,"column":9}},{"start":{"line":80,"column":8},"end":{"line":91,"column":9}}],"line":80}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":5,"12":27,"13":5,"14":2,"15":3,"16":15,"17":3,"18":0,"19":3,"20":3,"21":3,"22":3,"23":3,"24":3,"25":17,"26":3,"27":2,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1},"f":{"0":1,"1":0,"2":5,"3":27,"4":15,"5":3,"6":17},"b":{"0":[2,3],"1":[0,3],"2":[2,1],"3":[1,1]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["User","user","userAvailable","users","find","us","id","userExist","email","hashed","bcrypt","hashSync","password","data","first_name","last_name","phoneNumber","address","is_admin","push","token","tokenHelper","encodeToken","compareSync"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;IAEqBA,I;;;;;;;;;+BACDC,I,EAAM;AACtB,UAAMC,aAAa,GAAGC,mBAAMC,IAAN,CAAW,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACC,EAAH,KAAUL,IAAI,CAACK,EAAvB;AAAA,OAAX,CAAtB;;AACA,UAAIJ,aAAJ,EAAmB;AACjB,eAAO,gBAAP;AACD;;AAED,UAAMK,SAAS,GAAGJ,mBAAMC,IAAN,CAAW,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACG,KAAH,KAAaP,IAAI,CAACO,KAA1B;AAAA,OAAX,CAAlB;;AAEA,UAAID,SAAJ,EAAe;AACb,eAAO,aAAP;AACD;;AAED,UAAME,MAAM,GAAGC,mBAAOC,QAAP,CAAgBV,IAAI,CAACW,QAArB,EAA+B,EAA/B,CAAf;;AACA,UAAMC,IAAI,GAAG;AACXP,QAAAA,EAAE,EAAEL,IAAI,CAACK,EADE;AAEXE,QAAAA,KAAK,EAAEP,IAAI,CAACO,KAFD;AAGXM,QAAAA,UAAU,EAAEb,IAAI,CAACa,UAHN;AAIXC,QAAAA,SAAS,EAAEd,IAAI,CAACc,SAJL;AAKXH,QAAAA,QAAQ,EAAEH,MALC;AAMXO,QAAAA,WAAW,EAAEf,IAAI,CAACe,WANP;AAOXC,QAAAA,OAAO,EAAEhB,IAAI,CAACgB,OAPH;AAQXC,QAAAA,QAAQ,EAAEjB,IAAI,CAACiB;AARJ,OAAb;;AAUAf,yBAAMgB,IAAN,CAAWN,IAAX;;AAEA,UAAMO,KAAK,GAAGC,kBACXC,WADW,CACC;AAAEd,QAAAA,KAAK,EAAEK,IAAI,CAACL,KAAd;AAAqBF,QAAAA,EAAE,EAAEO,IAAI,CAACP,EAA9B;AAAkCY,QAAAA,QAAQ,EAAEL,IAAI,CAACK;AAAjD,OADD,CAAd;;AAGA,aAAO;AACLL,QAAAA,IAAI,EAAJA,IADK;AAELO,QAAAA,KAAK,EAALA;AAFK,OAAP;AAID;;;0BAEYnB,I,EAAM;AACjB,UAAMM,SAAS,GAAGJ,mBAAMC,IAAN,CAAW,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACG,KAAH,KAAaP,IAAI,CAACO,KAA1B;AAAA,OAAX,CAAlB;;AAEA,UAAID,SAAJ,EAAe;AACb,YAAIG,mBAAOa,WAAP,CAAmBtB,IAAI,CAACW,QAAxB,EAAkCL,SAAS,CAACK,QAA5C,CAAJ,EAA2D;AACzD,cAAMQ,KAAK,GAAGC,kBACXC,WADW,CACC;AAAEd,YAAAA,KAAK,EAAED,SAAS,CAACC,KAAnB;AAA0BF,YAAAA,EAAE,EAAEC,SAAS,CAACD,EAAxC;AAA4CY,YAAAA,QAAQ,EAAEX,SAAS,CAACW;AAAhE,WADD,CAAd;;AAEA,iBAAO;AACLjB,YAAAA,IAAI,EAAEM,SADD;AAELa,YAAAA,KAAK,EAALA;AAFK,WAAP;AAID;;AAED,eAAO,oBAAP;AACD;;AACD,aAAO,gBAAP;AACD","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["import bcrypt from 'bcrypt';\nimport tokenHelper from '../helpers/token';\nimport users from './userdb';\n\nexport default class User {\n  static createUser(user) {\n    const userAvailable = users.find((us) => us.id === user.id);\n    if (userAvailable) {\n      return 'That id exists';\n    }\n\n    const userExist = users.find((us) => us.email === user.email);\n\n    if (userExist) {\n      return 'user exists';\n    }\n\n    const hashed = bcrypt.hashSync(user.password, 10);\n    const data = {\n      id: user.id,\n      email: user.email,\n      first_name: user.first_name,\n      last_name: user.last_name,\n      password: hashed,\n      phoneNumber: user.phoneNumber,\n      address: user.address,\n      is_admin: user.is_admin,\n    };\n    users.push(data);\n\n    const token = tokenHelper\n      .encodeToken({ email: data.email, id: data.id, is_admin: data.is_admin });\n\n    return {\n      data,\n      token,\n    };\n  }\n\n  static login(user) {\n    const userExist = users.find((us) => us.email === user.email);\n\n    if (userExist) {\n      if (bcrypt.compareSync(user.password, userExist.password)) {\n        const token = tokenHelper\n          .encodeToken({ email: userExist.email, id: userExist.id, is_admin: userExist.is_admin });\n        return {\n          user: userExist,\n          token,\n        };\n      }\n\n      return 'incorrect password';\n    }\n    return 'Does not exist';\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"233c1c84433c6843770f0e5a2036c5d0cada8c23","contentHash":"ee374a0f49b495c618db14cae9d1c1b0da32ff21eb93757b9c20c3dadea4adc7"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\token.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\token.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"6":{"start":{"line":16,"column":18},"end":{"line":27,"column":1}},"7":{"start":{"line":18,"column":16},"end":{"line":18,"column":79}},"8":{"start":{"line":20,"column":4},"end":{"line":20,"column":17}},"9":{"start":{"line":23,"column":15},"end":{"line":23,"column":78}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"11":{"start":{"line":28,"column":15},"end":{"line":28,"column":26}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":30}}},"fnMap":{"0":{"name":"encodeToken","decl":{"start":{"line":17,"column":24},"end":{"line":17,"column":35}},"loc":{"start":{"line":17,"column":45},"end":{"line":21,"column":3}},"line":17},"1":{"name":"decodeToken","decl":{"start":{"line":22,"column":24},"end":{"line":22,"column":35}},"loc":{"start":{"line":22,"column":43},"end":{"line":26,"column":3}},"line":22}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":4,"9":12,"10":12,"11":1,"12":1},"f":{"0":4,"1":12},"b":{},"inputSourceMap":{"version":3,"sources":["token.js"],"names":["dotenv","config","tokenHelper","encodeToken","payload","token","jwt","sign","process","env","PRIVATE_KEY","decodeToken","data","verify"],"mappings":";;;;;;;;;AACA;;AACA;;AAEAA,mBAAOC,MAAP;;AACA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,WADkB,uBACNC,OADM,EACG;AACnB,QAAMC,KAAK,GAAGC,yBAAIC,IAAJ,CAASH,OAAT,EAAkBI,OAAO,CAACC,GAAR,CAAYC,WAA9B,CAAd;;AACA,WAAOL,KAAP;AACD,GAJiB;AAMlBM,EAAAA,WANkB,uBAMNN,KANM,EAMC;AACjB,QAAMO,IAAI,GAAGN,yBAAIO,MAAJ,CAAWR,KAAX,EAAkBG,OAAO,CAACC,GAAR,CAAYC,WAA9B,CAAb;;AACA,WAAOE,IAAP;AACD;AATiB,CAApB;eAYeV,W","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers","sourcesContent":["\nimport jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n\ndotenv.config();\nconst tokenHelper = {\n  encodeToken(payload) {\n    const token = jwt.sign(payload, process.env.PRIVATE_KEY);\n    return token;\n  },\n\n  decodeToken(token) {\n    const data = jwt.verify(token, process.env.PRIVATE_KEY);\n    return data;\n  },\n};\n\nexport default tokenHelper;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e42cc464dc4279448ffa06342ba95982ecea31f8","contentHash":"50d43d1087e84c65e0b02152ccf39fa1334ea0eb672da6333229542cb0f0f0f1"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\userdb.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\userdb.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":12},"end":{"line":43,"column":2}},"3":{"start":{"line":44,"column":15},"end":{"line":44,"column":20}},"4":{"start":{"line":45,"column":0},"end":{"line":45,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["userdb.js"],"names":["users","id","first_name","last_name","email","address","password","phoneNumber","is_admin"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAG,CAAC;AACXC,EAAAA,EAAE,EAAE,GADO;AAEXC,EAAAA,UAAU,EAAE,SAFD;AAGXC,EAAAA,SAAS,EAAE,KAHA;AAIXC,EAAAA,KAAK,EAAE,eAJI;AAKXC,EAAAA,OAAO,EAAE,SALE;AAMXC,EAAAA,QAAQ,EAAE,KANC;AAOXC,EAAAA,WAAW,EAAE,YAPF;AAQXC,EAAAA,QAAQ,EAAE;AARC,CAAD,EAUd;AACIP,EAAAA,EAAE,EAAE,GADR;AAEIC,EAAAA,UAAU,EAAE,KAFhB;AAGIC,EAAAA,SAAS,EAAE,MAHf;AAIIC,EAAAA,KAAK,EAAE,gBAJX;AAKIC,EAAAA,OAAO,EAAE,SALb;AAMIC,EAAAA,QAAQ,EAAE,KANd;AAOIC,EAAAA,WAAW,EAAE,WAPjB;AAQIC,EAAAA,QAAQ,EAAE;AARd,CAVc,EAoBd;AACIP,EAAAA,EAAE,EAAE,GADR;AAEIC,EAAAA,UAAU,EAAE,KAFhB;AAGIC,EAAAA,SAAS,EAAE,MAHf;AAIIC,EAAAA,KAAK,EAAE,gBAJX;AAKIC,EAAAA,OAAO,EAAE,SALb;AAMIC,EAAAA,QAAQ,EAAE,KANd;AAOIC,EAAAA,WAAW,EAAE,YAPjB;AAQIC,EAAAA,QAAQ,EAAE;AARd,CApBc,EA8Bd;AACIP,EAAAA,EAAE,EAAE,GADR;AAEIC,EAAAA,UAAU,EAAE,MAFhB;AAGIC,EAAAA,SAAS,EAAE,KAHf;AAIIC,EAAAA,KAAK,EAAE,eAJX;AAKIC,EAAAA,OAAO,EAAE,SALb;AAMIC,EAAAA,QAAQ,EAAE,KANd;AAOIC,EAAAA,WAAW,EAAE,WAPjB;AAQIC,EAAAA,QAAQ,EAAE;AARd,CA9Bc,CAAd;eAyCeR,K","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["const users = [{\n    id: 200,\n    first_name: 'ukundwa',\n    last_name: 'dia',\n    email: 'dia@gmail.com',\n    address: 'kamembe',\n    password: '200',\n    phoneNumber: '0780000092',\n    is_admin: true,\n  },\n{\n    id: 201,\n    first_name: 'tuy',\n    last_name: 'eric',\n    email: 'eric@gmail.com',\n    address: 'kamembe',\n    password: '100',\n    phoneNumber: '078229862',\n    is_admin: false,\n},\n{\n    id: 202,\n    first_name: 'ira',\n    last_name: 'vivi',\n    email: 'vivi@gmail.com',\n    address: 'kamembe',\n    password: '100',\n    phoneNumber: '0782237192',\n    is_admin: false,\n},\n{\n    id: 203,\n    first_name: 'turi',\n    last_name: 'Eli',\n    email: 'eli@gmail.com',\n    address: 'kamembe',\n    password: '100',\n    phoneNumber: '078874592',\n    is_admin: false,\n}];\n\nexport default users;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97af3259ad6f71447c3b16bafb052e9cf23e93c8","contentHash":"64a93bd58f14b16f6dc73ae630d6223a83c66269b192829b4748c86716a1cf0a"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\announcementController.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers\\announcementController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":77}},"4":{"start":{"line":12,"column":17},"end":{"line":244,"column":1}},"5":{"start":{"line":14,"column":16},"end":{"line":18,"column":5}},"6":{"start":{"line":20,"column":23},"end":{"line":20,"column":83}},"7":{"start":{"line":22,"column":4},"end":{"line":27,"column":5}},"8":{"start":{"line":23,"column":6},"end":{"line":26,"column":9}},"9":{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},"10":{"start":{"line":30,"column":6},"end":{"line":33,"column":9}},"11":{"start":{"line":36,"column":4},"end":{"line":41,"column":5}},"12":{"start":{"line":37,"column":6},"end":{"line":40,"column":9}},"13":{"start":{"line":43,"column":4},"end":{"line":46,"column":7}},"14":{"start":{"line":49,"column":16},"end":{"line":53,"column":5}},"15":{"start":{"line":55,"column":17},"end":{"line":55,"column":92}},"16":{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},"17":{"start":{"line":58,"column":6},"end":{"line":61,"column":9}},"18":{"start":{"line":64,"column":4},"end":{"line":69,"column":5}},"19":{"start":{"line":65,"column":6},"end":{"line":68,"column":9}},"20":{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},"21":{"start":{"line":72,"column":6},"end":{"line":75,"column":9}},"22":{"start":{"line":78,"column":4},"end":{"line":83,"column":5}},"23":{"start":{"line":79,"column":6},"end":{"line":82,"column":9}},"24":{"start":{"line":85,"column":4},"end":{"line":88,"column":7}},"25":{"start":{"line":91,"column":16},"end":{"line":95,"column":5}},"26":{"start":{"line":97,"column":17},"end":{"line":97,"column":86}},"27":{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},"28":{"start":{"line":100,"column":6},"end":{"line":103,"column":9}},"29":{"start":{"line":106,"column":4},"end":{"line":111,"column":5}},"30":{"start":{"line":107,"column":6},"end":{"line":110,"column":9}},"31":{"start":{"line":113,"column":4},"end":{"line":118,"column":5}},"32":{"start":{"line":114,"column":6},"end":{"line":117,"column":9}},"33":{"start":{"line":120,"column":4},"end":{"line":123,"column":7}},"34":{"start":{"line":126,"column":16},"end":{"line":130,"column":5}},"35":{"start":{"line":132,"column":17},"end":{"line":132,"column":82}},"36":{"start":{"line":134,"column":4},"end":{"line":139,"column":5}},"37":{"start":{"line":135,"column":6},"end":{"line":138,"column":9}},"38":{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},"39":{"start":{"line":142,"column":6},"end":{"line":145,"column":9}},"40":{"start":{"line":148,"column":4},"end":{"line":153,"column":5}},"41":{"start":{"line":149,"column":6},"end":{"line":152,"column":9}},"42":{"start":{"line":155,"column":4},"end":{"line":158,"column":7}},"43":{"start":{"line":161,"column":16},"end":{"line":165,"column":5}},"44":{"start":{"line":167,"column":18},"end":{"line":167,"column":67}},"45":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"46":{"start":{"line":170,"column":6},"end":{"line":173,"column":9}},"47":{"start":{"line":176,"column":4},"end":{"line":181,"column":5}},"48":{"start":{"line":177,"column":6},"end":{"line":180,"column":9}},"49":{"start":{"line":183,"column":4},"end":{"line":186,"column":7}},"50":{"start":{"line":189,"column":16},"end":{"line":193,"column":5}},"51":{"start":{"line":195,"column":17},"end":{"line":195,"column":83}},"52":{"start":{"line":197,"column":4},"end":{"line":202,"column":5}},"53":{"start":{"line":198,"column":6},"end":{"line":201,"column":9}},"54":{"start":{"line":204,"column":4},"end":{"line":209,"column":5}},"55":{"start":{"line":205,"column":6},"end":{"line":208,"column":9}},"56":{"start":{"line":211,"column":4},"end":{"line":214,"column":7}},"57":{"start":{"line":217,"column":16},"end":{"line":221,"column":5}},"58":{"start":{"line":223,"column":17},"end":{"line":223,"column":64}},"59":{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},"60":{"start":{"line":226,"column":6},"end":{"line":229,"column":9}},"61":{"start":{"line":232,"column":4},"end":{"line":237,"column":5}},"62":{"start":{"line":233,"column":6},"end":{"line":236,"column":9}},"63":{"start":{"line":239,"column":4},"end":{"line":242,"column":7}},"64":{"start":{"line":245,"column":15},"end":{"line":245,"column":25}},"65":{"start":{"line":246,"column":0},"end":{"line":246,"column":30}}},"fnMap":{"0":{"name":"createAnnouncement","decl":{"start":{"line":13,"column":31},"end":{"line":13,"column":49}},"loc":{"start":{"line":13,"column":60},"end":{"line":47,"column":3}},"line":13},"1":{"name":"updateAnnouncement","decl":{"start":{"line":48,"column":31},"end":{"line":48,"column":49}},"loc":{"start":{"line":48,"column":60},"end":{"line":89,"column":3}},"line":48},"2":{"name":"updateStatus","decl":{"start":{"line":90,"column":25},"end":{"line":90,"column":37}},"loc":{"start":{"line":90,"column":48},"end":{"line":124,"column":3}},"line":90},"3":{"name":"deleteAnnouncement","decl":{"start":{"line":125,"column":31},"end":{"line":125,"column":49}},"loc":{"start":{"line":125,"column":60},"end":{"line":159,"column":3}},"line":125},"4":{"name":"viewAnnouncements","decl":{"start":{"line":160,"column":30},"end":{"line":160,"column":47}},"loc":{"start":{"line":160,"column":58},"end":{"line":187,"column":3}},"line":160},"5":{"name":"announcementDetails","decl":{"start":{"line":188,"column":32},"end":{"line":188,"column":51}},"loc":{"start":{"line":188,"column":62},"end":{"line":215,"column":3}},"line":188},"6":{"name":"myAnnouncements","decl":{"start":{"line":216,"column":28},"end":{"line":216,"column":43}},"loc":{"start":{"line":216,"column":54},"end":{"line":243,"column":3}},"line":216}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":27,"column":5}},{"start":{"line":22,"column":4},"end":{"line":27,"column":5}}],"line":22},"1":{"loc":{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},{"start":{"line":29,"column":4},"end":{"line":34,"column":5}}],"line":29},"2":{"loc":{"start":{"line":36,"column":4},"end":{"line":41,"column":5}},"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":41,"column":5}},{"start":{"line":36,"column":4},"end":{"line":41,"column":5}}],"line":36},"3":{"loc":{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":62,"column":5}},{"start":{"line":57,"column":4},"end":{"line":62,"column":5}}],"line":57},"4":{"loc":{"start":{"line":64,"column":4},"end":{"line":69,"column":5}},"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":69,"column":5}},{"start":{"line":64,"column":4},"end":{"line":69,"column":5}}],"line":64},"5":{"loc":{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},{"start":{"line":71,"column":4},"end":{"line":76,"column":5}}],"line":71},"6":{"loc":{"start":{"line":78,"column":4},"end":{"line":83,"column":5}},"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":83,"column":5}},{"start":{"line":78,"column":4},"end":{"line":83,"column":5}}],"line":78},"7":{"loc":{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},{"start":{"line":99,"column":4},"end":{"line":104,"column":5}}],"line":99},"8":{"loc":{"start":{"line":106,"column":4},"end":{"line":111,"column":5}},"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":111,"column":5}},{"start":{"line":106,"column":4},"end":{"line":111,"column":5}}],"line":106},"9":{"loc":{"start":{"line":113,"column":4},"end":{"line":118,"column":5}},"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":118,"column":5}},{"start":{"line":113,"column":4},"end":{"line":118,"column":5}}],"line":113},"10":{"loc":{"start":{"line":134,"column":4},"end":{"line":139,"column":5}},"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":139,"column":5}},{"start":{"line":134,"column":4},"end":{"line":139,"column":5}}],"line":134},"11":{"loc":{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},{"start":{"line":141,"column":4},"end":{"line":146,"column":5}}],"line":141},"12":{"loc":{"start":{"line":148,"column":4},"end":{"line":153,"column":5}},"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":153,"column":5}},{"start":{"line":148,"column":4},"end":{"line":153,"column":5}}],"line":148},"13":{"loc":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},{"start":{"line":169,"column":4},"end":{"line":174,"column":5}}],"line":169},"14":{"loc":{"start":{"line":176,"column":4},"end":{"line":181,"column":5}},"type":"if","locations":[{"start":{"line":176,"column":4},"end":{"line":181,"column":5}},{"start":{"line":176,"column":4},"end":{"line":181,"column":5}}],"line":176},"15":{"loc":{"start":{"line":197,"column":4},"end":{"line":202,"column":5}},"type":"if","locations":[{"start":{"line":197,"column":4},"end":{"line":202,"column":5}},{"start":{"line":197,"column":4},"end":{"line":202,"column":5}}],"line":197},"16":{"loc":{"start":{"line":204,"column":4},"end":{"line":209,"column":5}},"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":209,"column":5}},{"start":{"line":204,"column":4},"end":{"line":209,"column":5}}],"line":204},"17":{"loc":{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},"type":"if","locations":[{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},{"start":{"line":225,"column":4},"end":{"line":230,"column":5}}],"line":225},"18":{"loc":{"start":{"line":232,"column":4},"end":{"line":237,"column":5}},"type":"if","locations":[{"start":{"line":232,"column":4},"end":{"line":237,"column":5}},{"start":{"line":232,"column":4},"end":{"line":237,"column":5}}],"line":232}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":4,"6":4,"7":4,"8":1,"9":3,"10":1,"11":2,"12":1,"13":1,"14":3,"15":3,"16":3,"17":1,"18":2,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":1,"26":1,"27":1,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":1,"37":0,"38":1,"39":0,"40":1,"41":0,"42":1,"43":1,"44":1,"45":1,"46":0,"47":1,"48":0,"49":1,"50":1,"51":1,"52":1,"53":0,"54":1,"55":0,"56":1,"57":1,"58":1,"59":1,"60":0,"61":1,"62":0,"63":1,"64":1,"65":1},"f":{"0":4,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{"0":[1,3],"1":[1,2],"2":[1,1],"3":[1,2],"4":[1,1],"5":[1,0],"6":[0,0],"7":[1,0],"8":[0,0],"9":[0,0],"10":[0,1],"11":[0,1],"12":[0,1],"13":[0,1],"14":[0,1],"15":[0,1],"16":[0,1],"17":[0,1],"18":[0,1]},"inputSourceMap":{"version":3,"sources":["announcementController.js"],"names":["controller","createAnnouncement","req","res","token","id","tokenId","email","tokenEmail","is_admin","tokenIs_admin","announcement","AnnouncementModel","body","status","json","error","data","updateAnnouncement","result","params","updateStatus","deleteAnnouncement","viewAnnouncements","results","announcementDetails","myAnnouncements"],"mappings":"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","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\controllers","sourcesContent":["import AnnouncementModel from '../models/announcement';\n\nconst controller = {\n\n  createAnnouncement(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const announcement = AnnouncementModel.createAnnouncement(req.body, token);\n    if (announcement === 'admin') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'You are not an advertiser',\n      });\n    }\n    if (announcement === 'Announcement exists') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'announcement exists',\n      });\n    } if (announcement === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'user does not exist',\n      });\n    }\n\n    return res.status(201).json({\n      status: 'success',\n      data: announcement,\n    });\n  },\n  updateAnnouncement(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const result = AnnouncementModel.updateAnnouncement(req.body, req.params.id, token);\n    if (result === 'admin') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'You are not advertiser',\n      });\n    } if (result === 'not the owner') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'You are not the owner',\n      });\n    }\n    if (result === 'Not exists') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'Announcement does not exist',\n      });\n    } if (result === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'user does not exist',\n      });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: result,\n    });\n  },\n  updateStatus(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const result = AnnouncementModel.updateStatus(req.body, req.params.id, token);\n    if (result === 'not admin') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'You are not admin',\n      });\n    }\n    if (result === 'Not exists') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'Announcement does not exist',\n      });\n    } if (result === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'user does not exist',\n      });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: result,\n    });\n  },\n  deleteAnnouncement(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const result = AnnouncementModel.deleteAnnouncement(req.params.id, token);\n    if (result === 'not admin') {\n      return res.status(401).json({\n        status: 'error',\n        error: 'You are not admin',\n      });\n    }\n    if (result === 'Not exists') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'Announcement does not exist',\n      });\n    } if (result === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'user does not exist',\n      });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: result,\n    });\n  },\n  viewAnnouncements(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const results = AnnouncementModel.viewAnnouncements(token);\n    if (results === 'no announcements') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'Announcement does not exist',\n      });\n    }\n    if (results === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'you are not a user',\n      });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: results,\n    });\n  },\n  announcementDetails(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const result = AnnouncementModel.announcementDetails(req.params.id, token);\n    if (result === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'you are not a user',\n      });\n    } if (result === 'not found') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'Announcement does not exists',\n      });\n    }\n    return res.status(200).json({\n      status: 'success',\n      data: result,\n    });\n  },\n  myAnnouncements(req, res) {\n    const token = {\n      id: req.tokenId,\n      email: req.tokenEmail,\n      is_admin: req.tokenIs_admin,\n    };\n    const result = AnnouncementModel.myAnnouncements(token);\n    if (result === 'not found') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'you created no announcements',\n      });\n    }\n    if (result === 'not a user') {\n      return res.status(403).json({\n        status: 'error',\n        error: 'you are not a user',\n      });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: result,\n    });\n  },\n\n};\nexport default controller;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c06e0bc7b9980e55f801c376294a6912772a2e5f","contentHash":"a6101b9c4179e5629df874a9acf9339d95578479fe0bcbb42aa441289773ad38"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcement.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcement.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":57}},"6":{"start":{"line":16,"column":22},"end":{"line":16,"column":73}},"7":{"start":{"line":20,"column":0},"end":{"line":221,"column":3}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":57}},"9":{"start":{"line":25,"column":2},"end":{"line":219,"column":6}},"10":{"start":{"line":28,"column":20},"end":{"line":30,"column":8}},"11":{"start":{"line":29,"column":8},"end":{"line":29,"column":47}},"12":{"start":{"line":32,"column":17},"end":{"line":34,"column":8}},"13":{"start":{"line":33,"column":8},"end":{"line":33,"column":34}},"14":{"start":{"line":36,"column":6},"end":{"line":57,"column":7}},"15":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"16":{"start":{"line":38,"column":10},"end":{"line":38,"column":39}},"17":{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},"18":{"start":{"line":42,"column":10},"end":{"line":42,"column":25}},"19":{"start":{"line":45,"column":28},"end":{"line":52,"column":9}},"20":{"start":{"line":54,"column":8},"end":{"line":54,"column":55}},"21":{"start":{"line":56,"column":8},"end":{"line":56,"column":29}},"22":{"start":{"line":59,"column":6},"end":{"line":59,"column":26}},"23":{"start":{"line":64,"column":20},"end":{"line":66,"column":8}},"24":{"start":{"line":65,"column":8},"end":{"line":65,"column":48}},"25":{"start":{"line":68,"column":18},"end":{"line":68,"column":61}},"26":{"start":{"line":70,"column":17},"end":{"line":72,"column":8}},"27":{"start":{"line":71,"column":8},"end":{"line":71,"column":48}},"28":{"start":{"line":74,"column":6},"end":{"line":94,"column":7}},"29":{"start":{"line":75,"column":8},"end":{"line":91,"column":9}},"30":{"start":{"line":76,"column":10},"end":{"line":78,"column":11}},"31":{"start":{"line":77,"column":12},"end":{"line":77,"column":27}},"32":{"start":{"line":80,"column":10},"end":{"line":88,"column":11}},"33":{"start":{"line":81,"column":12},"end":{"line":81,"column":62}},"34":{"start":{"line":82,"column":12},"end":{"line":82,"column":68}},"35":{"start":{"line":83,"column":12},"end":{"line":83,"column":70}},"36":{"start":{"line":84,"column":12},"end":{"line":84,"column":87}},"37":{"start":{"line":85,"column":12},"end":{"line":85,"column":105}},"38":{"start":{"line":86,"column":12},"end":{"line":86,"column":99}},"39":{"start":{"line":87,"column":12},"end":{"line":87,"column":53}},"40":{"start":{"line":90,"column":10},"end":{"line":90,"column":33}},"41":{"start":{"line":93,"column":8},"end":{"line":93,"column":28}},"42":{"start":{"line":96,"column":6},"end":{"line":96,"column":26}},"43":{"start":{"line":101,"column":20},"end":{"line":103,"column":8}},"44":{"start":{"line":102,"column":8},"end":{"line":102,"column":44}},"45":{"start":{"line":105,"column":18},"end":{"line":105,"column":61}},"46":{"start":{"line":107,"column":17},"end":{"line":109,"column":8}},"47":{"start":{"line":108,"column":8},"end":{"line":108,"column":44}},"48":{"start":{"line":111,"column":6},"end":{"line":127,"column":7}},"49":{"start":{"line":112,"column":8},"end":{"line":124,"column":9}},"50":{"start":{"line":113,"column":10},"end":{"line":121,"column":11}},"51":{"start":{"line":114,"column":12},"end":{"line":114,"column":62}},"52":{"start":{"line":115,"column":12},"end":{"line":115,"column":68}},"53":{"start":{"line":116,"column":12},"end":{"line":116,"column":93}},"54":{"start":{"line":117,"column":12},"end":{"line":117,"column":66}},"55":{"start":{"line":118,"column":12},"end":{"line":118,"column":78}},"56":{"start":{"line":119,"column":12},"end":{"line":119,"column":74}},"57":{"start":{"line":120,"column":12},"end":{"line":120,"column":53}},"58":{"start":{"line":123,"column":10},"end":{"line":123,"column":29}},"59":{"start":{"line":126,"column":8},"end":{"line":126,"column":28}},"60":{"start":{"line":129,"column":6},"end":{"line":129,"column":26}},"61":{"start":{"line":134,"column":20},"end":{"line":136,"column":8}},"62":{"start":{"line":135,"column":8},"end":{"line":135,"column":44}},"63":{"start":{"line":138,"column":18},"end":{"line":138,"column":61}},"64":{"start":{"line":140,"column":17},"end":{"line":142,"column":8}},"65":{"start":{"line":141,"column":8},"end":{"line":141,"column":44}},"66":{"start":{"line":144,"column":6},"end":{"line":156,"column":7}},"67":{"start":{"line":145,"column":8},"end":{"line":153,"column":9}},"68":{"start":{"line":146,"column":10},"end":{"line":150,"column":11}},"69":{"start":{"line":147,"column":12},"end":{"line":147,"column":56}},"70":{"start":{"line":149,"column":12},"end":{"line":149,"column":27}},"71":{"start":{"line":152,"column":10},"end":{"line":152,"column":29}},"72":{"start":{"line":155,"column":8},"end":{"line":155,"column":28}},"73":{"start":{"line":158,"column":6},"end":{"line":158,"column":26}},"74":{"start":{"line":163,"column":17},"end":{"line":165,"column":8}},"75":{"start":{"line":164,"column":8},"end":{"line":164,"column":44}},"76":{"start":{"line":167,"column":6},"end":{"line":173,"column":7}},"77":{"start":{"line":168,"column":8},"end":{"line":170,"column":9}},"78":{"start":{"line":169,"column":10},"end":{"line":169,"column":44}},"79":{"start":{"line":172,"column":8},"end":{"line":172,"column":34}},"80":{"start":{"line":175,"column":6},"end":{"line":175,"column":26}},"81":{"start":{"line":180,"column":17},"end":{"line":182,"column":8}},"82":{"start":{"line":181,"column":8},"end":{"line":181,"column":44}},"83":{"start":{"line":184,"column":6},"end":{"line":194,"column":7}},"84":{"start":{"line":185,"column":27},"end":{"line":187,"column":10}},"85":{"start":{"line":186,"column":10},"end":{"line":186,"column":46}},"86":{"start":{"line":189,"column":8},"end":{"line":191,"column":9}},"87":{"start":{"line":190,"column":10},"end":{"line":190,"column":30}},"88":{"start":{"line":193,"column":8},"end":{"line":193,"column":27}},"89":{"start":{"line":196,"column":6},"end":{"line":196,"column":26}},"90":{"start":{"line":201,"column":17},"end":{"line":203,"column":8}},"91":{"start":{"line":202,"column":8},"end":{"line":202,"column":44}},"92":{"start":{"line":205,"column":27},"end":{"line":207,"column":8}},"93":{"start":{"line":206,"column":8},"end":{"line":206,"column":52}},"94":{"start":{"line":209,"column":6},"end":{"line":215,"column":7}},"95":{"start":{"line":210,"column":8},"end":{"line":212,"column":9}},"96":{"start":{"line":211,"column":10},"end":{"line":211,"column":32}},"97":{"start":{"line":214,"column":8},"end":{"line":214,"column":27}},"98":{"start":{"line":217,"column":6},"end":{"line":217,"column":26}},"99":{"start":{"line":220,"column":2},"end":{"line":220,"column":22}},"100":{"start":{"line":223,"column":0},"end":{"line":223,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":0},"end":{"line":20,"column":1}},"loc":{"start":{"line":20,"column":12},"end":{"line":221,"column":1}},"line":20},"1":{"name":"Announcement","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":23}},"loc":{"start":{"line":21,"column":26},"end":{"line":23,"column":3}},"line":21},"2":{"name":"createAnnouncement","decl":{"start":{"line":27,"column":20},"end":{"line":27,"column":38}},"loc":{"start":{"line":27,"column":60},"end":{"line":60,"column":5}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":52},"end":{"line":28,"column":53}},"loc":{"start":{"line":28,"column":72},"end":{"line":30,"column":7}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":41},"end":{"line":32,"column":42}},"loc":{"start":{"line":32,"column":55},"end":{"line":34,"column":7}},"line":32},"5":{"name":"updateAnnouncement","decl":{"start":{"line":63,"column":20},"end":{"line":63,"column":38}},"loc":{"start":{"line":63,"column":64},"end":{"line":97,"column":5}},"line":63},"6":{"name":"(anonymous_6)","decl":{"start":{"line":64,"column":52},"end":{"line":64,"column":53}},"loc":{"start":{"line":64,"column":72},"end":{"line":66,"column":7}},"line":64},"7":{"name":"(anonymous_7)","decl":{"start":{"line":70,"column":41},"end":{"line":70,"column":42}},"loc":{"start":{"line":70,"column":55},"end":{"line":72,"column":7}},"line":70},"8":{"name":"updateStatus","decl":{"start":{"line":100,"column":20},"end":{"line":100,"column":32}},"loc":{"start":{"line":100,"column":58},"end":{"line":130,"column":5}},"line":100},"9":{"name":"(anonymous_9)","decl":{"start":{"line":101,"column":52},"end":{"line":101,"column":53}},"loc":{"start":{"line":101,"column":72},"end":{"line":103,"column":7}},"line":101},"10":{"name":"(anonymous_10)","decl":{"start":{"line":107,"column":41},"end":{"line":107,"column":42}},"loc":{"start":{"line":107,"column":55},"end":{"line":109,"column":7}},"line":107},"11":{"name":"deleteAnnouncement","decl":{"start":{"line":133,"column":20},"end":{"line":133,"column":38}},"loc":{"start":{"line":133,"column":50},"end":{"line":159,"column":5}},"line":133},"12":{"name":"(anonymous_12)","decl":{"start":{"line":134,"column":52},"end":{"line":134,"column":53}},"loc":{"start":{"line":134,"column":72},"end":{"line":136,"column":7}},"line":134},"13":{"name":"(anonymous_13)","decl":{"start":{"line":140,"column":41},"end":{"line":140,"column":42}},"loc":{"start":{"line":140,"column":55},"end":{"line":142,"column":7}},"line":140},"14":{"name":"viewAnnouncements","decl":{"start":{"line":162,"column":20},"end":{"line":162,"column":37}},"loc":{"start":{"line":162,"column":45},"end":{"line":176,"column":5}},"line":162},"15":{"name":"(anonymous_15)","decl":{"start":{"line":163,"column":41},"end":{"line":163,"column":42}},"loc":{"start":{"line":163,"column":55},"end":{"line":165,"column":7}},"line":163},"16":{"name":"announcementDetails","decl":{"start":{"line":179,"column":20},"end":{"line":179,"column":39}},"loc":{"start":{"line":179,"column":51},"end":{"line":197,"column":5}},"line":179},"17":{"name":"(anonymous_17)","decl":{"start":{"line":180,"column":41},"end":{"line":180,"column":42}},"loc":{"start":{"line":180,"column":55},"end":{"line":182,"column":7}},"line":180},"18":{"name":"(anonymous_18)","decl":{"start":{"line":185,"column":59},"end":{"line":185,"column":60}},"loc":{"start":{"line":185,"column":79},"end":{"line":187,"column":9}},"line":185},"19":{"name":"myAnnouncements","decl":{"start":{"line":200,"column":20},"end":{"line":200,"column":35}},"loc":{"start":{"line":200,"column":43},"end":{"line":218,"column":5}},"line":200},"20":{"name":"(anonymous_20)","decl":{"start":{"line":201,"column":41},"end":{"line":201,"column":42}},"loc":{"start":{"line":201,"column":55},"end":{"line":203,"column":7}},"line":201},"21":{"name":"(anonymous_21)","decl":{"start":{"line":205,"column":59},"end":{"line":205,"column":60}},"loc":{"start":{"line":205,"column":79},"end":{"line":207,"column":7}},"line":205}},"branchMap":{"0":{"loc":{"start":{"line":36,"column":6},"end":{"line":57,"column":7}},"type":"if","locations":[{"start":{"line":36,"column":6},"end":{"line":57,"column":7}},{"start":{"line":36,"column":6},"end":{"line":57,"column":7}}],"line":36},"1":{"loc":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},{"start":{"line":37,"column":8},"end":{"line":39,"column":9}}],"line":37},"2":{"loc":{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},{"start":{"line":41,"column":8},"end":{"line":43,"column":9}}],"line":41},"3":{"loc":{"start":{"line":48,"column":18},"end":{"line":48,"column":50}},"type":"binary-expr","locations":[{"start":{"line":48,"column":18},"end":{"line":48,"column":37}},{"start":{"line":48,"column":41},"end":{"line":48,"column":50}}],"line":48},"4":{"loc":{"start":{"line":74,"column":6},"end":{"line":94,"column":7}},"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":94,"column":7}},{"start":{"line":74,"column":6},"end":{"line":94,"column":7}}],"line":74},"5":{"loc":{"start":{"line":75,"column":8},"end":{"line":91,"column":9}},"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":91,"column":9}},{"start":{"line":75,"column":8},"end":{"line":91,"column":9}}],"line":75},"6":{"loc":{"start":{"line":76,"column":10},"end":{"line":78,"column":11}},"type":"if","locations":[{"start":{"line":76,"column":10},"end":{"line":78,"column":11}},{"start":{"line":76,"column":10},"end":{"line":78,"column":11}}],"line":76},"7":{"loc":{"start":{"line":80,"column":10},"end":{"line":88,"column":11}},"type":"if","locations":[{"start":{"line":80,"column":10},"end":{"line":88,"column":11}},{"start":{"line":80,"column":10},"end":{"line":88,"column":11}}],"line":80},"8":{"loc":{"start":{"line":84,"column":53},"end":{"line":84,"column":86}},"type":"binary-expr","locations":[{"start":{"line":84,"column":53},"end":{"line":84,"column":70}},{"start":{"line":84,"column":74},"end":{"line":84,"column":86}}],"line":84},"9":{"loc":{"start":{"line":85,"column":59},"end":{"line":85,"column":104}},"type":"binary-expr","locations":[{"start":{"line":85,"column":59},"end":{"line":85,"column":82}},{"start":{"line":85,"column":86},"end":{"line":85,"column":104}}],"line":85},"10":{"loc":{"start":{"line":86,"column":57},"end":{"line":86,"column":98}},"type":"binary-expr","locations":[{"start":{"line":86,"column":57},"end":{"line":86,"column":78}},{"start":{"line":86,"column":82},"end":{"line":86,"column":98}}],"line":86},"11":{"loc":{"start":{"line":111,"column":6},"end":{"line":127,"column":7}},"type":"if","locations":[{"start":{"line":111,"column":6},"end":{"line":127,"column":7}},{"start":{"line":111,"column":6},"end":{"line":127,"column":7}}],"line":111},"12":{"loc":{"start":{"line":112,"column":8},"end":{"line":124,"column":9}},"type":"if","locations":[{"start":{"line":112,"column":8},"end":{"line":124,"column":9}},{"start":{"line":112,"column":8},"end":{"line":124,"column":9}}],"line":112},"13":{"loc":{"start":{"line":113,"column":10},"end":{"line":121,"column":11}},"type":"if","locations":[{"start":{"line":113,"column":10},"end":{"line":121,"column":11}},{"start":{"line":113,"column":10},"end":{"line":121,"column":11}}],"line":113},"14":{"loc":{"start":{"line":116,"column":55},"end":{"line":116,"column":92}},"type":"binary-expr","locations":[{"start":{"line":116,"column":55},"end":{"line":116,"column":74}},{"start":{"line":116,"column":78},"end":{"line":116,"column":92}}],"line":116},"15":{"loc":{"start":{"line":144,"column":6},"end":{"line":156,"column":7}},"type":"if","locations":[{"start":{"line":144,"column":6},"end":{"line":156,"column":7}},{"start":{"line":144,"column":6},"end":{"line":156,"column":7}}],"line":144},"16":{"loc":{"start":{"line":145,"column":8},"end":{"line":153,"column":9}},"type":"if","locations":[{"start":{"line":145,"column":8},"end":{"line":153,"column":9}},{"start":{"line":145,"column":8},"end":{"line":153,"column":9}}],"line":145},"17":{"loc":{"start":{"line":146,"column":10},"end":{"line":150,"column":11}},"type":"if","locations":[{"start":{"line":146,"column":10},"end":{"line":150,"column":11}},{"start":{"line":146,"column":10},"end":{"line":150,"column":11}}],"line":146},"18":{"loc":{"start":{"line":167,"column":6},"end":{"line":173,"column":7}},"type":"if","locations":[{"start":{"line":167,"column":6},"end":{"line":173,"column":7}},{"start":{"line":167,"column":6},"end":{"line":173,"column":7}}],"line":167},"19":{"loc":{"start":{"line":168,"column":8},"end":{"line":170,"column":9}},"type":"if","locations":[{"start":{"line":168,"column":8},"end":{"line":170,"column":9}},{"start":{"line":168,"column":8},"end":{"line":170,"column":9}}],"line":168},"20":{"loc":{"start":{"line":184,"column":6},"end":{"line":194,"column":7}},"type":"if","locations":[{"start":{"line":184,"column":6},"end":{"line":194,"column":7}},{"start":{"line":184,"column":6},"end":{"line":194,"column":7}}],"line":184},"21":{"loc":{"start":{"line":189,"column":8},"end":{"line":191,"column":9}},"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":191,"column":9}},{"start":{"line":189,"column":8},"end":{"line":191,"column":9}}],"line":189},"22":{"loc":{"start":{"line":209,"column":6},"end":{"line":215,"column":7}},"type":"if","locations":[{"start":{"line":209,"column":6},"end":{"line":215,"column":7}},{"start":{"line":209,"column":6},"end":{"line":215,"column":7}}],"line":209},"23":{"loc":{"start":{"line":210,"column":8},"end":{"line":212,"column":9}},"type":"if","locations":[{"start":{"line":210,"column":8},"end":{"line":212,"column":9}},{"start":{"line":210,"column":8},"end":{"line":212,"column":9}}],"line":210}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":4,"11":15,"12":4,"13":26,"14":4,"15":3,"16":1,"17":2,"18":1,"19":1,"20":1,"21":1,"22":1,"23":3,"24":12,"25":3,"26":3,"27":18,"28":3,"29":3,"30":2,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":1,"42":0,"43":1,"44":4,"45":1,"46":1,"47":7,"48":1,"49":1,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":1,"62":4,"63":1,"64":1,"65":5,"66":1,"67":1,"68":1,"69":1,"70":1,"71":0,"72":0,"73":0,"74":1,"75":7,"76":1,"77":1,"78":1,"79":0,"80":0,"81":1,"82":7,"83":1,"84":1,"85":4,"86":1,"87":1,"88":0,"89":0,"90":1,"91":7,"92":1,"93":4,"94":1,"95":1,"96":1,"97":0,"98":0,"99":1,"100":1},"f":{"0":1,"1":0,"2":4,"3":15,"4":26,"5":3,"6":12,"7":18,"8":1,"9":4,"10":7,"11":1,"12":4,"13":5,"14":1,"15":7,"16":1,"17":7,"18":4,"19":1,"20":7,"21":4},"b":{"0":[3,1],"1":[1,2],"2":[1,1],"3":[1,0],"4":[3,0],"5":[2,1],"6":[1,1],"7":[0,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[1,0],"12":[1,0],"13":[0,1],"14":[0,0],"15":[1,0],"16":[1,0],"17":[1,0],"18":[1,0],"19":[1,0],"20":[1,0],"21":[1,0],"22":[1,0],"23":[1,0]},"inputSourceMap":{"version":3,"sources":["announcement.js"],"names":["Announcement","announcement","token","checker","announcements","find","announce","id","user","users","us","is_admin","announcement1","owner","status","text","start_date","end_date","push","parseInt","index","indexOf","splice","myAnnouncement"],"mappings":"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","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["\nimport users from './userdb';\nimport announcements from './announcementdb';\n\nexport default class Announcement {\n  static createAnnouncement(announcement, token) {\n    const checker = announcements.find((announce) => announce.id === announcement.id);\n    const user = users.find((us) => us.id === token.id);\n    if (user) {\n      if (checker) {\n        return 'Announcement exists';\n      }\n      if (token.is_admin) {\n        return 'admin';\n      }\n      const announcement1 = {\n        id: announcement.id,\n        owner: token.id,\n        status: announcement.status || 'pending',\n        text: announcement.text,\n        start_date: announcement.start_date,\n        end_date: announcement.end_date,\n      };\n      announcements.push(announcement1);\n      return announcement1;\n    }\n\n    return 'not a user';\n  }\n\n  static updateAnnouncement(announcement, id, token) {\n    const checker = announcements.find((announce) => announce.id === parseInt(id, 10));\n    const index = announcements.indexOf(checker);\n    const user = users.find((us) => us.id === parseInt(token.id, 10));\n\n    if (user) {\n      if (checker) {\n        if (token.is_admin) {\n          return 'admin';\n        }\n        if (token.id === checker.owner) {\n          announcements[index].id = checker.id;\n          announcements[index].owner = checker.owner;\n          announcements[index].status = checker.status;\n          announcements[index].text = announcement.text || checker.text;\n          announcements[index].start_date = announcement.start_date || checker.start_date;\n          announcements[index].end_date = announcement.end_date || checker.end_date;\n\n          return announcements[index];\n        }\n\n        return 'not the owner';\n      }\n\n      return 'Not exists';\n    }\n\n    return 'not a user';\n  }\n\n  static updateStatus(announcement, id, token) {\n    const checker = announcements.find((announce) => announce.id === parseInt(id));\n    const index = announcements.indexOf(checker);\n    const user = users.find((us) => us.id === parseInt(token.id));\n    if (user) {\n      if (checker) {\n        if (token.is_admin) {\n          announcements[index].id = checker.id;\n          announcements[index].owner = checker.owner;\n          announcements[index].status = announcement.status || checker.status;\n          announcements[index].text = checker.text;\n          announcements[index].start_date = checker.start_date;\n          announcements[index].end_date = checker.end_date;\n\n          return announcements[index];\n        }\n\n        return 'not admin';\n      }\n\n      return 'Not exists';\n    }\n    return 'not a user';\n  }\n\n  static deleteAnnouncement(id, token) {\n    const checker = announcements.find((announce) => announce.id === parseInt(id));\n    const index = announcements.indexOf(checker);\n    const user = users.find((us) => us.id === parseInt(token.id));\n    if (user) {\n      if (checker) {\n        if (token.is_admin) {\n          announcements.splice(index, 1);\n          return checker;\n        }\n\n        return 'not admin';\n      }\n\n      return 'Not exists';\n    }\n\n    return 'not a user';\n  }\n\n  static viewAnnouncements(token) {\n    const user = users.find((us) => us.id === parseInt(token.id));\n    if (user) {\n      if (announcements) {\n        return announcements;\n      }\n      return 'no announcements';\n    }\n    return 'not a user';\n  }\n\n  static announcementDetails(id, token) {\n    const user = users.find((us) => us.id === parseInt(token.id));\n    if (user) {\n      const announcement = announcements.find((announce) => announce.id === parseInt(id));\n      if (announcement) {\n        return announcement;\n      }\n      return 'not found';\n    }\n    return 'not a user';\n  }\n\n  static myAnnouncements(token) {\n    const user = users.find((us) => us.id === parseInt(token.id));\n    const myAnnouncement = announcements.find((announce) => announce.owner === parseInt(user.id));\n    if (user) {\n      if (myAnnouncement) {\n        return myAnnouncement;\n      }\n\n      return 'not found';\n    }\n    return 'not a user';\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c5369611c681c552d0f4a6b0a128c2aa84ff9ce8","contentHash":"46451cb58175a622de01665ffe20bfec0f23e0902a664868e934581f694cb710"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcementdb.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models\\announcementdb.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":20},"end":{"line":28,"column":2}},"3":{"start":{"line":29,"column":15},"end":{"line":29,"column":28}},"4":{"start":{"line":30,"column":0},"end":{"line":30,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["announcementdb.js"],"names":["announcements","id","owner","status","text","start_date","end_date"],"mappings":";;;;;;AAAA,IAAMA,aAAa,GAAG,CAAC;AACnBC,EAAAA,EAAE,EAAE,GADe;AAEnBC,EAAAA,KAAK,EAAC,GAFa;AAGnBC,EAAAA,MAAM,EAAE,QAHW;AAInBC,EAAAA,IAAI,EAAE,2BAJa;AAKnBC,EAAAA,UAAU,EAAE,0BALO;AAMnBC,EAAAA,QAAQ,EAAE;AANS,CAAD,EAOlB;AACAL,EAAAA,EAAE,EAAE,GADJ;AAEAC,EAAAA,KAAK,EAAC,GAFN;AAGAC,EAAAA,MAAM,EAAE,UAHR;AAIAC,EAAAA,IAAI,EAAE,2BAJN;AAKAC,EAAAA,UAAU,EAAE,0BALZ;AAMAC,EAAAA,QAAQ,EAAE;AANV,CAPkB,EAclB;AACAL,EAAAA,EAAE,EAAE,GADJ;AAEAC,EAAAA,KAAK,EAAC,GAFN;AAGAC,EAAAA,MAAM,EAAE,QAHR;AAIAC,EAAAA,IAAI,EAAE,2BAJN;AAKAC,EAAAA,UAAU,EAAE,0BALZ;AAMAC,EAAAA,QAAQ,EAAE;AANV,CAdkB,CAAtB;eAsBeN,a","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\models","sourcesContent":["const announcements = [{\n    id: 401,\n    owner:200,\n    status: 'active',\n    text: 'you should pay schoolfees',\n    start_date: '2020-01-15T22:55:44.356Z',\n    end_date: '2020-06-10T22:55:44.356Z',\n  },{\n    id: 402,\n    owner:203,\n    status: 'accepted',\n    text: 'you should pay schoolfees',\n    start_date: '2020-01-15T22:55:44.356Z',\n    end_date: '2020-06-10T22:55:44.356Z',\n  },{\n    id: 403,\n    owner:201,\n    status: 'active',\n    text: 'you should pay schoolfees',\n    start_date: '2020-01-15T22:55:44.356Z',\n    end_date: '2020-06-10T22:55:44.356Z',\n  }];\nexport default announcements;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"de067439951424a038145a5f3fd8501ddb9ecf21","contentHash":"4562314449c848bf81dbafec0eb8f0dfd61c648d79e0a502a381fd423e379950"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\validation.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers\\validation.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":49}},"3":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"4":{"start":{"line":12,"column":14},"end":{"line":43,"column":1}},"5":{"start":{"line":44,"column":0},"end":{"line":44,"column":26}},"6":{"start":{"line":46,"column":20},"end":{"line":58,"column":1}},"7":{"start":{"line":47,"column":2},"end":{"line":57,"column":4}},"8":{"start":{"line":48,"column":17},"end":{"line":48,"column":59}},"9":{"start":{"line":50,"column":4},"end":{"line":54,"column":5}},"10":{"start":{"line":51,"column":6},"end":{"line":53,"column":9}},"11":{"start":{"line":56,"column":4},"end":{"line":56,"column":18}},"12":{"start":{"line":60,"column":0},"end":{"line":60,"column":38}}},"fnMap":{"0":{"name":"validateInput","decl":{"start":{"line":46,"column":29},"end":{"line":46,"column":42}},"loc":{"start":{"line":46,"column":51},"end":{"line":58,"column":1}},"line":46},"1":{"name":"(anonymous_1)","decl":{"start":{"line":47,"column":9},"end":{"line":47,"column":10}},"loc":{"start":{"line":47,"column":35},"end":{"line":57,"column":3}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":50,"column":4},"end":{"line":54,"column":5}},"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":54,"column":5}},{"start":{"line":50,"column":4},"end":{"line":54,"column":5}}],"line":50}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":13,"9":13,"10":0,"11":13,"12":1},"f":{"0":5,"1":13},"b":{"0":[0,13]},"inputSourceMap":{"version":3,"sources":["validation.js"],"names":["schemas","authSchema","Joi","object","keys","id","number","integer","required","email","string","first_name","min","max","last_name","address","phoneNumber","password","is_admin","options","abortEarly","announceSchema","status","valid","text","start_date","date","end_date","updateAnnounce","validateInput","schema","req","res","next","result","validate","body","error","json","message","details"],"mappings":";;;;;;;;;AAAA;;AAGA,IAAMA,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAEC,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC5BC,IAAAA,EAAE,EAAEH,gBAAII,MAAJ,GAAaC,OAAb,GAAuBC,QAAvB,EADwB;AAE5BC,IAAAA,KAAK,EAAEP,gBAAIQ,MAAJ,GAAaF,QAAb,GAAwBC,KAAxB,EAFqB;AAG5BE,IAAAA,UAAU,EAAET,gBAAIQ,MAAJ,GAAaE,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,CAAxB,CAHgB;AAI5BC,IAAAA,SAAS,EAAEZ,gBAAIQ,MAAJ,GAAaE,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,CAAxB,CAJiB;AAK5BE,IAAAA,OAAO,EAAEb,gBAAIQ,MAAJ,EALmB;AAM5BM,IAAAA,WAAW,EAAEd,gBAAIQ,MAAJ,EANe;AAO5BO,IAAAA,QAAQ,EAAEf,gBAAIQ,MAAJ,EAPkB;AAQ5BQ,IAAAA,QAAQ,EAAEhB;AARkB,GAAlB,EASTiB,OATS,CASD;AAAEC,IAAAA,UAAU,EAAE;AAAd,GATC,CADE;AAadC,EAAAA,cAAc,EAAEnB,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAChCC,IAAAA,EAAE,EAAEH,gBAAII,MAAJ,GAAaC,OAAb,GAAuBC,QAAvB,EAD4B;AAEhCc,IAAAA,MAAM,EAAEpB,gBAAIQ,MAAJ,GAAaa,KAAb,CAAmB,CAAC,SAAD,EAAY,UAAZ,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,UAA9C,CAAnB,CAFwB;AAGhCC,IAAAA,IAAI,EAAEtB,gBAAIQ,MAAJ,EAH0B;AAIhCe,IAAAA,UAAU,EAAEvB,gBAAIwB,IAAJ,GAAWlB,QAAX,EAJoB;AAKhCmB,IAAAA,QAAQ,EAAEzB,gBAAIwB,IAAJ,GAAWlB,QAAX;AALsB,GAAlB,EAMbW,OANa,CAML;AAAEC,IAAAA,UAAU,EAAE;AAAd,GANK,CAbF;AAoBdQ,EAAAA,cAAc,EAAE1B,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAChCC,IAAAA,EAAE,EAAEH,gBAAII,MAAJ,GAAaC,OAAb,EAD4B;AAEhCe,IAAAA,MAAM,EAAEpB,gBAAIQ,MAAJ,GAAaa,KAAb,CAAmB,CAAC,SAAD,EAAY,UAAZ,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,UAA9C,CAAnB,CAFwB;AAGhCC,IAAAA,IAAI,EAAEtB,gBAAIQ,MAAJ,EAH0B;AAIhCe,IAAAA,UAAU,EAAEvB,gBAAIwB,IAAJ,EAJoB;AAKhCC,IAAAA,QAAQ,EAAEzB,gBAAIwB,IAAJ;AALsB,GAAlB,EAMbP,OANa,CAML;AAAEC,IAAAA,UAAU,EAAE;AAAd,GANK;AApBF,CAAhB;;;AA4BA,IAAMS,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD;AAAA,SAAY,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACpD,QAAMC,MAAM,GAAGhC,gBAAIiC,QAAJ,CAAaJ,GAAG,CAACK,IAAjB,EAAuBN,MAAvB,CAAf;;AACA,QAAII,MAAM,CAACG,KAAX,EAAkB;AAChB,aAAOL,GAAG,CAACV,MAAJ,CAAW,GAAX,EAAgBgB,IAAhB,CAAqB;AAC1BC,QAAAA,OAAO,EAAEL,MAAM,CAACG,KAAP,CAAaG;AADI,OAArB,CAAP;AAGD;;AAED,WAAOP,IAAI,EAAX;AACD,GATqB;AAAA,CAAtB","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\helpers","sourcesContent":["import Joi from 'joi';\n\n\nconst schemas = {\n  authSchema: Joi.object().keys({\n    id: Joi.number().integer().required(),\n    email: Joi.string().required().email(),\n    first_name: Joi.string().min(3).max(8),\n    last_name: Joi.string().min(3).max(8),\n    address: Joi.string(),\n    phoneNumber: Joi.string(),\n    password: Joi.string(),\n    is_admin: Joi.boolean(),\n  }).options({ abortEarly: false }),\n\n\n  announceSchema: Joi.object().keys({\n    id: Joi.number().integer().required(),\n    status: Joi.string().valid(['pending', 'accepted', 'declined', 'active', 'deactive']),\n    text: Joi.string(),\n    start_date: Joi.date().required(),\n    end_date: Joi.date().required(),\n  }).options({ abortEarly: false }),\n  updateAnnounce: Joi.object().keys({\n    id: Joi.number().integer(),\n    status: Joi.string().valid(['pending', 'accepted', 'declined', 'active', 'deactive']),\n    text: Joi.string(),\n    start_date: Joi.date(),\n    end_date: Joi.date(),\n  }).options({ abortEarly: false }),\n};\nconst validateInput = (schema) => (req, res, next) => {\n  const result = Joi.validate(req.body, schema);\n  if (result.error) {\n    return res.status(400).json({\n      message: result.error.details,\n    });\n  }\n\n  return next();\n};\n\nexport { schemas, validateInput };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76fc06309383f25e0e2039250b4a502fcb1ec908","contentHash":"cce58d13bfbdd969c02e202951695fd9272c5835364632e1b1f8f557a5cc941b"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\announcementRoutes.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes\\announcementRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":30},"end":{"line":12,"column":102}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":50}},"6":{"start":{"line":16,"column":22},"end":{"line":16,"column":85}},"7":{"start":{"line":18,"column":13},"end":{"line":18,"column":41}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":168}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":171}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":172}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":108}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":111}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":111}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":103}},"15":{"start":{"line":27,"column":15},"end":{"line":27,"column":21}},"16":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["announcementRoutes.js"],"names":["router","express","Router","post","authenticate","schemas","announceSchema","controller","createAnnouncement","patch","updateAnnounce","updateStatus","updateAnnouncement","deleteAnnouncement","get","viewAnnouncements","myAnnouncements","announcementDetails"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,0BAAjB,EAA+B,+BAAcC,oBAAQC,cAAtB,CAA/B,EAAsEC,mCAAWC,kBAAjF;AACAR,MAAM,CAACS,KAAP,CAAa,WAAb,EAA0BL,0BAA1B,EAAwC,+BAAcC,oBAAQK,cAAtB,CAAxC,EAA+EH,mCAAWI,YAA1F;AACAX,MAAM,CAACS,KAAP,CAAa,MAAb,EAAqBL,0BAArB,EAAmC,+BAAcC,oBAAQK,cAAtB,CAAnC,EAA0EH,mCAAWK,kBAArF;AACAZ,MAAM,UAAN,CAAc,MAAd,EAAsBI,0BAAtB,EAAoCG,mCAAWM,kBAA/C;AACAb,MAAM,CAACc,GAAP,CAAW,gBAAX,EAA6BV,0BAA7B,EAA2CG,mCAAWQ,iBAAtD;AACAf,MAAM,CAACc,GAAP,CAAW,kBAAX,EAA+BV,0BAA/B,EAA6CG,mCAAWS,eAAxD;AACAhB,MAAM,CAACc,GAAP,CAAW,MAAX,EAAmBV,0BAAnB,EAAiCG,mCAAWU,mBAA5C;eAEejB,M","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\routes","sourcesContent":["import express from 'express';\nimport controller from '../controllers/announcementController';\nimport { schemas, validateInput } from '../helpers/validation';\nimport authenticate from '../middleware/authentication';\n\nconst router = express.Router();\n\nrouter.post('/', authenticate, validateInput(schemas.announceSchema), controller.createAnnouncement);\nrouter.patch('/:id/sold', authenticate, validateInput(schemas.updateAnnounce), controller.updateStatus);\nrouter.patch('/:id', authenticate, validateInput(schemas.updateAnnounce), controller.updateAnnouncement);\nrouter.delete('/:id', authenticate, controller.deleteAnnouncement);\nrouter.get('/announcements', authenticate, controller.viewAnnouncements);\nrouter.get('/myannouncements', authenticate, controller.myAnnouncements);\nrouter.get('/:id', authenticate, controller.announcementDetails);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"567c628444c028732a6308161cb838d68d60b526","contentHash":"752f47f71ae7949c5d8789df3b0a49f2a5a741f546e936b1135f80e49b32cdc9"},"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\middleware\\authentication.js":{"path":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\middleware\\authentication.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":19},"end":{"line":28,"column":1}},"5":{"start":{"line":13,"column":20},"end":{"line":13,"column":36}},"6":{"start":{"line":15,"column":2},"end":{"line":27,"column":3}},"7":{"start":{"line":16,"column":17},"end":{"line":16,"column":59}},"8":{"start":{"line":18,"column":4},"end":{"line":18,"column":28}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":40}},"10":{"start":{"line":20,"column":4},"end":{"line":20,"column":34}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":18}},"12":{"start":{"line":23,"column":4},"end":{"line":26,"column":7}},"13":{"start":{"line":30,"column":15},"end":{"line":30,"column":27}},"14":{"start":{"line":31,"column":0},"end":{"line":31,"column":30}}},"fnMap":{"0":{"name":"authenticate","decl":{"start":{"line":12,"column":28},"end":{"line":12,"column":40}},"loc":{"start":{"line":12,"column":57},"end":{"line":28,"column":1}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":12,"6":12,"7":12,"8":12,"9":12,"10":12,"11":12,"12":0,"13":1,"14":1},"f":{"0":12},"b":{},"inputSourceMap":{"version":3,"sources":["authentication.js"],"names":["authenticate","req","res","next","authHeaders","get","decode","tokenHelper","decodeToken","tokenId","id","tokenIs_admin","is_admin","tokenEmail","email","err","status","json","error"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,MAAMC,WAAW,GAAGH,GAAG,CAACI,GAAJ,CAAQ,OAAR,CAApB;;AACA,MAAI;AACF,QAAMC,MAAM,GAAGC,kBAAYC,WAAZ,CAAwBJ,WAAxB,CAAf;;AACAH,IAAAA,GAAG,CAACQ,OAAJ,GAAcH,MAAM,CAACI,EAArB;AACAT,IAAAA,GAAG,CAACU,aAAJ,GAAoBL,MAAM,CAACM,QAA3B;AACAX,IAAAA,GAAG,CAACY,UAAJ,GAAiBP,MAAM,CAACQ,KAAxB;AACA,WAAOX,IAAI,EAAX;AACD,GAND,CAME,OAAOY,GAAP,EAAY;AACZ,WAAOb,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,MAAAA,MAAM,EAAE,OADkB;AAE1BE,MAAAA,KAAK,EAAE;AAFmB,KAArB,CAAP;AAID;AACF,CAdD;;eAeelB,Y","sourceRoot":"C:\\Users\\DIVINE\\Desktop\\Andela\\Announce-IT\\server2\\src\\middleware","sourcesContent":["import tokenHelper from '../helpers/token';\n\nconst authenticate = (req, res, next) => {\n  const authHeaders = req.get('token');\n  try {\n    const decode = tokenHelper.decodeToken(authHeaders);\n    req.tokenId = decode.id;\n    req.tokenIs_admin = decode.is_admin;\n    req.tokenEmail = decode.email;\n    return next();\n  } catch (err) {\n    return res.status(403).json({\n      status: 'error',\n      error: 'not logged in',\n    });\n  }\n};\nexport default authenticate;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9bfc28cea327b1987785776c72b6ebe46abffb11","contentHash":"16e215d68fcc2f5c14cb0bb5aa0042873e6c90ea62b2c931a6abe8947cf359f5"}}